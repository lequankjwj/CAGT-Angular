/**-----------------------------------------------------------------------------------------
* Copyright Â© 2020 Progress Software Corporation. All rights reserved.
* Licensed under commercial license. See LICENSE.md in the project root for more information
*-------------------------------------------------------------------------------------------*/
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@angular/core"),require("rxjs"),require("rxjs/operators"),require("@angular/common"),require("@progress/kendo-angular-l10n"),require("@angular/animations")):"function"==typeof define&&define.amd?define(["@angular/core","rxjs","rxjs/operators","@angular/common","@progress/kendo-angular-l10n","@angular/animations"],t):"object"==typeof exports?exports.KendoAngularTreeview=t(require("@angular/core"),require("rxjs"),require("rxjs/operators"),require("@angular/common"),require("@progress/kendo-angular-l10n"),require("@angular/animations")):e.KendoAngularTreeview=t(e["@angular/core"],e.rxjs,e["rxjs/operators"],e["@angular/common"],e["@progress/kendo-angular-l10n"],e["@angular/animations"])}(window,(function(e,t,n,i,r,o){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=45)}([function(t,n){t.exports=e},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return r})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return d})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return u})),n.d(t,"__generator",(function(){return p})),n.d(t,"__createBinding",(function(){return l})),n.d(t,"__exportStar",(function(){return h})),n.d(t,"__values",(function(){return f})),n.d(t,"__read",(function(){return v})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__await",(function(){return y})),n.d(t,"__asyncGenerator",(function(){return _})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return x})),n.d(t,"__makeTemplateObject",(function(){return I})),n.d(t,"__importStar",(function(){return S})),n.d(t,"__importDefault",(function(){return D})),n.d(t,"__classPrivateFieldGet",(function(){return k})),n.d(t,"__classPrivateFieldSet",(function(){return w}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function s(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function d(e,t){return function(n,i){t(n,i,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{d(i.next(e))}catch(e){o(e)}}function s(e){try{d(i.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}d((i=i.apply(e,t||[])).next())}))}function p(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function l(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(e){r[e]&&(i[e]=function(t){return new Promise((function(n,i){o.push([e,t,n,i])>1||s(e,t)}))})}function s(e,t){try{(n=r[e](t)).value instanceof y?Promise.resolve(n.value.v).then(d,c):u(o[0][2],n)}catch(e){u(o[0][3],e)}var n}function d(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(e){var t,n;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,r){t[i]=e[i]?function(t){return(n=!n)?{value:y(e[i](t)),done:"return"===i}:r?r(t):t}:r}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){(function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)})(i,r,(t=e[n](t)).done,t.value)}))}}}function I(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function D(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function w(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),r=/^(?:a|input|select|option|textarea|button|object)$/i;t.match=function(e,t){var n=e.matches||e.msMatchesSelector||e.webkitMatchesSelector;return!!n&&n.call(e,t)},t.closestWithMatch=function(e,n){if(!document.documentElement.contains(e))return null;for(var i=e;null!==i&&1===i.nodeType;){if(t.match(i,n))return i;i=i.parentElement||i.parentNode}return null},t.noop=function(){},t.isPresent=function(e){return null!=e},t.isBlank=function(e){return null==e},t.isArray=function(e){return Array.isArray(e)},t.isNullOrEmptyString=function(e){return t.isBlank(e)||0===e.trim().length},t.closestNode=function(e){return i.isDocumentAvailable()?e.closest?e.closest("li.k-treeview-item"):t.closestWithMatch(e,"li.k-treeview-item"):null},t.isFocusable=function(e){if(e.tagName){var t=e.tagName.toLowerCase(),n=e.getAttribute("tabIndex"),i="-1"===n,o=null!==n&&!i;return r.test(t)&&(o=!e.disabled&&!i),o}return!1},t.isContent=function(e){if(!i.isDocumentAvailable())return null;for(var n=e;n&&!t.match(n,".k-in:not(.k-treeview-load-more-button),.k-treeview-item,.k-treeview");)n=n.parentNode;return n?t.match(n,".k-in:not(.k-treeview-load-more-button)"):void 0},t.getContentElement=function(e){if(!t.isPresent(e))return null;var n=".k-in:not(.k-treeview-load-more-button)";return t.match(e,n)?e:e.querySelector(n)},t.isLoadMoreButton=function(e){return t.isPresent(t.closestWithMatch(e,".k-in.k-treeview-load-more-button"))},t.closest=function(e,t){for(;e&&!t(e);)e=e.parentNode;return e},t.hasParent=function(e,n){return Boolean(t.closest(e,(function(e){return e===n})))},t.focusableNode=function(e){return e.nativeElement.querySelector('li[tabindex="0"]')},t.hasActiveNode=function(e,n){var i=n||t.closestNode(e);return i&&(i===e||e.tabIndex<0)},t.nodeId=function(e){return e?e.getAttribute("data-treeindex"):""},t.nodeIndex=function(e){return(e||{}).index},t.dataItemsEqual=function(e,n){return!t.isPresent(e)&&!t.isPresent(n)||t.isPresent(e)&&t.isPresent(n)&&e.item.dataItem===n.item.dataItem},t.getDataItem=function(e){return t.isPresent(e)?e.item.dataItem:e}},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(5),a=n(32),s=n(3),d=n(33),c=n(34),u=n(9),p=n(10),l=n(16),h=n(11),f=n(35),v=n(12),m=n(13),g=n(17),y=n(18),_=n(2),b=[u.ExpandStateService,p.IndexBuilderService,y.TreeViewLookupService,l.LoadingNotificationService,f.NodeChildrenService,h.NavigationService,g.SelectionService,d.DataChangeNotificationService,a.LocalizationService,{provide:a.L10N_PREFIX,useValue:"kendo.treeview"}],x=function(){function e(e,t,n,i,o,a,d,u,p,l){var h=this;this.element=e,this.expandService=t,this.navigationService=n,this.nodeChildrenService=i,this.selectionService=o,this.treeViewLookupService=a,this.ngZone=d,this.renderer=u,this.dataChangeNotification=p,this.localization=l,this.classNames=!0,this.role="tree",this.fetchNodes=function(){return h.data},this.childrenLoaded=new r.EventEmitter,this.onBlur=new r.EventEmitter,this.onFocus=new r.EventEmitter,this.expand=new r.EventEmitter,this.collapse=new r.EventEmitter,this.nodeDragStart=new r.EventEmitter,this.nodeDrag=new r.EventEmitter,this.nodeDrop=new r.EventEmitter,this.nodeDragEnd=new r.EventEmitter,this.addItem=new r.EventEmitter,this.removeItem=new r.EventEmitter,this.checkedChange=new r.EventEmitter,this.selectionChange=new r.EventEmitter,this.nodeClick=new r.EventEmitter,this.nodeDblClick=new r.EventEmitter,this.trackBy=c.trackBy,this.isDisabled=c.isDisabled,this.navigable=!0,this.children=function(){return s.of([])},this.checkboxes=!1,this.expandIcons=!1,this.selectable=!1,this.touchActions=!0,this.isActive=!1,this.data=new s.BehaviorSubject([]),this._animate=!0,this.subscriptions=new s.Subscription,this.domSubscriptions=[]}return Object.defineProperty(e.prototype,"direction",{get:function(){return this.localization.rtl?"rtl":"ltr"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animate",{get:function(){return!this._animate},set:function(e){this._animate=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nodes",{get:function(){return this.data.value},set:function(e){this.dataChangeNotification.notify(),this.data.next(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasChildren",{get:function(){return this._hasChildren||c.hasChildren},set:function(e){this._hasChildren=e,this.expandIcons=Boolean(this._isExpanded&&this._hasChildren)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isChecked",{get:function(){return this._isChecked||c.isChecked},set:function(e){this._isChecked=e,this.checkboxes=Boolean(this._isChecked)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isExpanded",{get:function(){return this._isExpanded||c.isExpanded},set:function(e){this._isExpanded=e,this.expandIcons=Boolean(this._isExpanded&&this._hasChildren)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){return this._isSelected||c.isSelected},set:function(e){this._isSelected=e,this.selectable=Boolean(this._isSelected)},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){this.navigationService.navigable=Boolean(this.navigable)},e.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe(),this.domSubscriptions.forEach((function(e){return e()}))},e.prototype.ngOnInit=function(){var e=this;this.subscriptions.add(this.nodeChildrenService.changes.subscribe((function(t){return e.childrenLoaded.emit(t)}))),this.subscriptions.add(this.expandService.changes.subscribe((function(t){var n=t.index,i=t.dataItem;return t.expand?e.expand.emit({index:n,dataItem:i}):e.collapse.emit({index:n,dataItem:i})}))),this.subscriptions.add(this.navigationService.checks.subscribe((function(t){return e.checkedChange.emit(e.treeViewLookupService.itemLookup(t))}))),this.subscriptions.add(this.selectionService.changes.subscribe((function(t){o.hasObservers(e.selectionChange)&&e.ngZone.run((function(){e.selectionChange.emit(t)}))}))),this.element&&this.ngZone.runOutsideAngular((function(){e.attachDomHandlers()}))},e.prototype.blur=function(){if(o.isDocumentAvailable()){var e=_.focusableNode(this.element);document.activeElement===e&&e.blur()}},e.prototype.focus=function(e){this.navigationService.activateIndex(e);var t=_.focusableNode(this.element);t&&t.focus()},e.prototype.itemLookup=function(e){return this.treeViewLookupService.itemLookup(e)},e.prototype.rebindChildren=function(){this.dataChangeNotification.notify()},e.prototype.isDisabledNode=function(e){return this.navigationService.isDisabled(e.item.index)},e.prototype.expandNode=function(e,t){this.expandService.expand(t,e)},e.prototype.collapseNode=function(e,t){this.expandService.collapse(t,e)},e.prototype.getNodePageSize=function(e){return this.verifyLoadMoreService(),this.loadMoreService.getGroupSize(e)},e.prototype.setNodePageSize=function(e,t){this.verifyLoadMoreService(),this.loadMoreService.setGroupSize(e,t)},e.prototype.attachDomHandlers=function(){var e=this.element.nativeElement;this.clickHandler=this.clickHandler.bind(this),this.domSubscriptions.push(this.renderer.listen(e,"contextmenu",this.clickHandler),this.renderer.listen(e,"click",this.clickHandler),this.renderer.listen(e,"dblclick",this.clickHandler),this.renderer.listen(e,"focusin",this.focusHandler.bind(this)),this.renderer.listen(e,"focusout",this.blurHandler.bind(this)),this.renderer.listen(e,"keydown",this.keydownHandler.bind(this)))},e.prototype.focusHandler=function(e){var t,n=this;_.match(e.target,".k-treeview-item")?t=e.target:_.isFocusable(e.target)||(t=_.closestNode(e.target)),t&&(this.navigationService.activateIndex(_.nodeId(e.target)),!this.isActive&&o.hasObservers(this.onFocus)&&this.ngZone.run((function(){n.onFocus.emit()})),this.isActive=!0)},e.prototype.blurHandler=function(e){var t=this;!this.isActive||!_.match(e.target,".k-treeview-item")||e.relatedTarget&&_.match(e.relatedTarget,".k-treeview-item")&&_.hasParent(e.relatedTarget,this.element.nativeElement)||(this.navigationService.deactivate(),this.isActive=!1,o.hasObservers(this.onBlur)&&this.ngZone.run((function(){t.onBlur.emit()})))},e.prototype.clickHandler=function(e){var t=this,n=e.target;if(("contextmenu"!==e.type||o.hasObservers(this.nodeClick))&&("click"!==e.type||o.hasObservers(this.nodeClick)||o.hasObservers(this.selectionChange)||_.isLoadMoreButton(n))&&("dblclick"!==e.type||o.hasObservers(this.nodeDblClick))&&!_.isFocusable(n)&&(_.isContent(n)||_.isLoadMoreButton(n))&&_.hasParent(n,this.element.nativeElement)){var i=_.nodeId(_.closestNode(n));i&&!this.navigationService.isDisabled(i)&&this.ngZone.run((function(){var n=t.treeViewLookupService.itemLookup(i);"click"===e.type&&(t.navigationService.model.findNode(i).loadMoreButton?t.navigationService.notifyLoadMore(i):t.navigationService.selectIndex(i));("dblclick"===e.type?t.nodeDblClick:t.nodeClick).emit({item:n.item,originalEvent:e,type:e.type})}))}},e.prototype.keydownHandler=function(e){var t=this;this.isActive&&this.navigable&&this.ngZone.run((function(){t.navigationService.move(e)}))},e.prototype.verifyLoadMoreService=function(){if(r.isDevMode()&&!_.isPresent(this.loadMoreService))throw new Error("To use the TreeView paging functionality, you need to assign the `kendoTreeViewLoadMore` directive. See http://www.telerik.com/kendo-angular-ui/components/treeview/load-more-button/.")},i.__decorate([r.HostBinding("class.k-widget"),r.HostBinding("class.k-treeview"),i.__metadata("design:type",Boolean)],e.prototype,"classNames",void 0),i.__decorate([r.HostBinding("attr.role"),i.__metadata("design:type",String)],e.prototype,"role",void 0),i.__decorate([r.HostBinding("attr.dir"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],e.prototype,"direction",null),i.__decorate([r.ViewChild("assetsContainer",{read:r.ViewContainerRef,static:!0}),i.__metadata("design:type",r.ViewContainerRef)],e.prototype,"assetsContainer",void 0),i.__decorate([r.Input(),r.HostBinding("@.disabled"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[Boolean])],e.prototype,"animate",null),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"childrenLoaded",void 0),i.__decorate([r.Output("blur"),i.__metadata("design:type",r.EventEmitter)],e.prototype,"onBlur",void 0),i.__decorate([r.Output("focus"),i.__metadata("design:type",r.EventEmitter)],e.prototype,"onFocus",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"expand",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"collapse",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"nodeDragStart",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"nodeDrag",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"nodeDrop",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"nodeDragEnd",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"addItem",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"removeItem",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"checkedChange",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"selectionChange",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"nodeClick",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"nodeDblClick",void 0),i.__decorate([r.ContentChild(v.NodeTemplateDirective),i.__metadata("design:type",v.NodeTemplateDirective)],e.prototype,"nodeTemplate",void 0),i.__decorate([r.ContentChild(m.LoadMoreButtonTemplateDirective),i.__metadata("design:type",m.LoadMoreButtonTemplateDirective)],e.prototype,"loadMoreButtonTemplate",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Function)],e.prototype,"trackBy",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Array),i.__metadata("design:paramtypes",[Array])],e.prototype,"nodes",null),i.__decorate([r.Input(),i.__metadata("design:type",Object)],e.prototype,"textField",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[Function])],e.prototype,"hasChildren",null),i.__decorate([r.Input(),i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[Function])],e.prototype,"isChecked",null),i.__decorate([r.Input(),i.__metadata("design:type",Function)],e.prototype,"isDisabled",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[Function])],e.prototype,"isExpanded",null),i.__decorate([r.Input(),i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[Function])],e.prototype,"isSelected",null),i.__decorate([r.Input(),i.__metadata("design:type",Boolean)],e.prototype,"navigable",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Function)],e.prototype,"children",void 0),e=i.__decorate([r.Component({changeDetection:r.ChangeDetectionStrategy.Default,exportAs:"kendoTreeView",providers:b,selector:"kendo-treeview",template:'\n        <ul class="k-treeview-lines"\n            kendoTreeViewGroup\n            role="group"\n            [checkboxes]="checkboxes"\n            [expandIcons]="expandIcons"\n            [selectable]="selectable"\n            [touchActions]="touchActions"\n            [children]="children"\n            [hasChildren]="hasChildren"\n            [isChecked]="isChecked"\n            [isDisabled]="isDisabled"\n            [isExpanded]="isExpanded"\n            [isSelected]="isSelected"\n            [nodeTemplateRef]="nodeTemplate?.templateRef"\n            [loadMoreButtonTemplateRef]="loadMoreButtonTemplate?.templateRef"\n            [textField]="textField"\n            [nodes]="fetchNodes"\n            [loadMoreService]="loadMoreService"\n            [trackBy]="trackBy"\n        >\n        </ul>\n        <ng-container #assetsContainer></ng-container>\n    '}),i.__metadata("design:paramtypes",[r.ElementRef,u.ExpandStateService,h.NavigationService,f.NodeChildrenService,g.SelectionService,y.TreeViewLookupService,r.NgZone,r.Renderer2,d.DataChangeNotificationService,a.LocalizationService])],e)}();t.TreeViewComponent=x},function(e,t,n){"use strict";n.r(t),n.d(t,"ResizeService",(function(){return _})),n.d(t,"DraggableDirective",(function(){return v})),n.d(t,"DraggableModule",(function(){return m})),n.d(t,"EventsOutsideAngularDirective",(function(){return g})),n.d(t,"EventsModule",(function(){return y})),n.d(t,"ResizeSensorComponent",(function(){return w})),n.d(t,"ResizeBatchService",(function(){return k})),n.d(t,"ResizeCompatService",(function(){return I})),n.d(t,"ResizeObserverService",(function(){return D})),n.d(t,"ResizeSensorModule",(function(){return P})),n.d(t,"KendoInput",(function(){return O})),n.d(t,"isDocumentAvailable",(function(){return u})),n.d(t,"isChanged",(function(){return p})),n.d(t,"anyChanged",(function(){return l})),n.d(t,"hasObservers",(function(){return h})),n.d(t,"guid",(function(){return f})),n.d(t,"Keys",(function(){return i}));var i,r=n(0),o=n(30),a=n(31),s=n(6),d=n(1),c=n(3),u=function(){return"undefined"!=typeof document},p=function(e,t,n){return void 0===n&&(n=!0),!(void 0===t[e]||t[e].isFirstChange()&&n||t[e].previousValue===t[e].currentValue)},l=function(e,t,n){return void 0===n&&(n=!0),e.some((function(e){return p(e,t,n)}))},h=function(e){return e&&e.observers.length>0},f=function(){for(var e="",t=0;t<32;t++){var n=16*Math.random()|0;8!==t&&12!==t&&16!==t&&20!==t||(e+="-"),e+=(12===t?4:16===t?3&n|8:n).toString(16)}return e},v=function(){function e(e,t){this.element=e,this.ngZone=t,this.enableDrag=!0,this.kendoPress=new r.EventEmitter,this.kendoDrag=new r.EventEmitter,this.kendoRelease=new r.EventEmitter}return e.prototype.ngOnInit=function(){this.toggleDraggable()},e.prototype.ngOnChanges=function(e){p("enableDrag",e)&&this.toggleDraggable()},e.prototype.ngOnDestroy=function(){this.destroyDraggable()},e.prototype.toggleDraggable=function(){var e=this;u()&&(this.destroyDraggable(),this.enableDrag&&(this.draggable=new o.default({drag:function(t){return e.kendoDrag.next(t)},press:function(t){return e.kendoPress.next(t)},release:function(t){return e.kendoRelease.next(t)}}),this.ngZone.runOutsideAngular((function(){return e.draggable.bindTo(e.element.nativeElement)}))))},e.prototype.destroyDraggable=function(){this.draggable&&(this.draggable.destroy(),this.draggable=null)},e.decorators=[{type:r.Directive,args:[{selector:"[kendoDraggable]"}]}],e.ctorParameters=function(){return[{type:r.ElementRef},{type:r.NgZone}]},e.propDecorators={enableDrag:[{type:r.Input}],kendoPress:[{type:r.Output}],kendoDrag:[{type:r.Output}],kendoRelease:[{type:r.Output}]},e}(),m=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{declarations:[v],exports:[v],imports:[a.CommonModule]}]}],e}(),g=function(){function e(e,t,n){this.element=e,this.ngZone=t,this.renderer=n,this.events={}}return e.prototype.ngOnInit=function(){var e=this;if(this.element&&this.element.nativeElement){var t=this.events;this.subscriptions=[],this.ngZone.runOutsideAngular((function(){for(var n in t)t.hasOwnProperty(n)&&e.subscriptions.push(e.renderer.listen(e.element.nativeElement,n,e.scope?t[n].bind(e.scope):t[n]))}))}},e.prototype.ngOnDestroy=function(){if(this.subscriptions){for(var e=0;e<this.subscriptions.length;e++)this.subscriptions[e]();this.subscriptions=null}},e.decorators=[{type:r.Directive,args:[{selector:"[kendoEventsOutsideAngular]"}]}],e.ctorParameters=function(){return[{type:r.ElementRef},{type:r.NgZone},{type:r.Renderer2}]},e.propDecorators={events:[{type:r.Input,args:["kendoEventsOutsideAngular"]}],scope:[{type:r.Input}]},e}(),y=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{declarations:[g],exports:[g]}]}],e}(),_=function(){function e(e){this.resizeBatchService=e,this.resize=new r.EventEmitter,this.acceptedSize=!1,this.state=0}return e.prototype.acceptSize=function(e){void 0===e&&(e=this.measure()),this.lastWidth=e.width,this.lastHeight=e.height,this.acceptedSize=!0},e.prototype.checkChanges=function(){u()&&0===this.state&&(this.state=1,this.resizeBatchService.schedule(this,this.init))},e.prototype.destroy=function(){this.resizeBatchService.cancel(this)},e.prototype.checkSize=function(){if(this.parentElement){var e=this.measure(),t=e.width,n=e.height;if(!(t===this.lastWidth&&n===this.lastHeight))return this.lastWidth=t,this.lastHeight=n,this.acceptedSize=!1,this.resize.emit(),!0}},e.prototype.initSize=function(){var e=this.measure();this.lastWidth=e.width,this.lastHeight=e.height},e.prototype.measure=function(){var e=0,t=0;return this.parentElement&&(t=this.parentElement.offsetHeight,e=this.parentElement.offsetWidth),{height:t,width:e}},e}(),b=function(e){var t=document.createElement("div");return t.style.cssText=e,t},x="position: absolute; display: block; left: 0; top: 0; right: 0; bottom: 0; z-index: -1;overflow: hidden; visibility: hidden;",I=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.element=n,r.ngZone=i,r}return Object(d.__extends)(t,e),t.prototype.checkChanges=function(){2!==this.state?e.prototype.checkChanges.call(this):this.resizeBatchService.isScheduled(this)||this.resizeBatchService.schedule(this,this.checkSize)},t.prototype.destroy=function(){if(e.prototype.destroy.call(this),this.subscription&&this.subscription.unsubscribe(),this.expand){var t=this.element.nativeElement;t.removeChild(this.expand),t.removeChild(this.shrink),this.expand.removeChild(this.expandChild),this.expand=this.expandChild=this.shrink=this.element=null}},t.prototype.checkSize=function(){if(e.prototype.checkSize.call(this))return this.reset(),!0},t.prototype.init=function(){var e,t=this.parentElement=this.element.nativeElement.parentElement;"static"===(e="position",getComputedStyle(t,null).getPropertyValue(e))&&(t.style.position="relative"),this.state=2,this.render(),this.reset(),this.initSize(),this.subscribe()},t.prototype.render=function(){var e=this.element.nativeElement;e.style.cssText=x,e.setAttribute("dir","ltr"),this.expand=b(x),this.expandChild=b("position: absolute; left: 0; top: 0; transition: 0s;"),this.expand.appendChild(this.expandChild),e.appendChild(this.expand),this.shrink=b(x);var t=b("position: absolute; left: 0; top: 0; transition: 0s;width: 200%; height: 200%;");this.shrink.appendChild(t),e.appendChild(this.shrink)},t.prototype.reset=function(){var e=this.expandChild;e.style.width="100000px",e.style.height="100000px";var t=this.expand;t.scrollLeft=1e5,t.scrollTop=1e5;var n=this.shrink;n.scrollLeft=1e5,n.scrollTop=1e5},t.prototype.subscribe=function(){var e=this;this.ngZone.runOutsideAngular((function(){e.subscription=Object(c.merge)(Object(c.fromEvent)(e.shrink,"scroll"),Object(c.fromEvent)(e.expand,"scroll")).subscribe((function(){e.checkSize()}))}))},t}(_),S="undefined"!=typeof ResizeObserver,D=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.element=n,r.ngZone=i,r}return Object(d.__extends)(t,e),t.supported=function(){return S},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.parentElement=null},t.prototype.init=function(){var e=this;this.parentElement=this.element.nativeElement.parentElement,this.initSize(),this.state=2,this.ngZone.runOutsideAngular((function(){e.resizeObserver=new ResizeObserver((function(){e.checkSize()})),e.resizeObserver.observe(e.parentElement)}))},t}(_),k=function(){function e(e){this.ngZone=e,this.scheduled=[],this.resolvedPromise=Promise.resolve(null),this.flush=this.flush.bind(this)}return e.prototype.schedule=function(e,t){var n=this;this.scheduled.push({instance:e,method:t}),this.subscription||this.ngZone.runOutsideAngular((function(){n.subscription=Object(c.from)(n.resolvedPromise).subscribe(n.flush)}))},e.prototype.isScheduled=function(e){return Boolean(this.scheduled.find((function(t){return t.instance===e})))},e.prototype.cancel=function(e){for(var t=this.scheduled,n=t.length,i=0;i<n;i++)if(t[i].instance===e)return t.splice(i,1),void(t.length||this.unsubscribe())},e.prototype.ngOnDestroy=function(){this.unsubscribe()},e.prototype.unsubscribe=function(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)},e.prototype.flush=function(){this.scheduled.forEach((function(e){e.method.call(e.instance)})),this.scheduled=[],this.unsubscribe()},e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[{type:r.NgZone}]},e}(),w=function(){function e(e,t,n){var i=this;this.rateLimit=10,this.resize=new r.EventEmitter;var o=D.supported()?D:I;this.resizeService=new o(e,t,n);var a=1e3/(this.rateLimit||10);this.subscription=this.resizeService.resize.pipe(Object(s.auditTime)(a)).subscribe((function(){i.resizeService.acceptedSize||i.resize.emit()}))}return e.prototype.ngAfterViewChecked=function(){this.resizeService.checkChanges()},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe(),this.resizeService.destroy()},e.prototype.acceptSize=function(e){this.resizeService.acceptSize(e)},e.decorators=[{type:r.Component,args:[{selector:"kendo-resize-sensor",template:""}]}],e.ctorParameters=function(){return[{type:k},{type:r.ElementRef},{type:r.NgZone}]},e.propDecorators={rateLimit:[{type:r.Input}],resize:[{type:r.Output}]},e}(),C=[w],P=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{declarations:[C],exports:[C],providers:[k]}]}],e}(),O=function(){};!function(e){e[e.Alt=18]="Alt",e[e.ArrowDown=40]="ArrowDown",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowUp=38]="ArrowUp",e[e.Backspace=8]="Backspace",e[e.Control=17]="Control",e[e.Delete=46]="Delete",e[e.Digit0=48]="Digit0",e[e.Digit1=49]="Digit1",e[e.Digit2=50]="Digit2",e[e.Digit3=51]="Digit3",e[e.Digit4=52]="Digit4",e[e.Digit5=53]="Digit5",e[e.Digit6=54]="Digit6",e[e.Digit7=55]="Digit7",e[e.Digit8=56]="Digit8",e[e.Digit9=57]="Digit9",e[e.End=35]="End",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F10=121]="F10",e[e.Home=36]="Home",e[e.Insert=45]="Insert",e[e.KeyA=65]="KeyA",e[e.KeyB=66]="KeyB",e[e.KeyC=67]="KeyC",e[e.KeyD=68]="KeyD",e[e.KeyE=69]="KeyE",e[e.KeyF=70]="KeyF",e[e.KeyG=71]="KeyG",e[e.KeyH=72]="KeyH",e[e.KeyI=73]="KeyI",e[e.KeyJ=74]="KeyJ",e[e.KeyK=75]="KeyK",e[e.KeyL=76]="KeyL",e[e.KeyM=77]="KeyM",e[e.KeyN=78]="KeyN",e[e.KeyO=79]="KeyO",e[e.KeyP=80]="KeyP",e[e.KeyQ=81]="KeyQ",e[e.KeyR=82]="KeyR",e[e.KeyS=83]="KeyS",e[e.KeyT=84]="KeyT",e[e.KeyU=85]="KeyU",e[e.KeyV=86]="KeyV",e[e.KeyW=87]="KeyW",e[e.KeyX=88]="KeyX",e[e.KeyY=89]="KeyY",e[e.KeyZ=90]="KeyZ",e[e.NumpadDecimal=110]="NumpadDecimal",e[e.PageDown=34]="PageDown",e[e.PageUp=33]="PageUp",e[e.Shift=16]="Shift",e[e.Space=32]="Space",e[e.Tab=9]="Tab"}(i||(i={}))},function(e,t){e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);i.__exportStar(n(36),t),i.__exportStar(n(37),t),i.__exportStar(n(24),t),i.__exportStar(n(38),t),i.__exportStar(n(39),t),i.__exportStar(n(40),t)},function(e,t,n){"use strict";n.r(t),n.d(t,"detectMobileOS",(function(){return c})),n.d(t,"detectDesktopBrowser",(function(){return u})),n.d(t,"browser",(function(){return l})),n.d(t,"mobileOS",(function(){return h})),n.d(t,"touch",(function(){return f})),n.d(t,"msPointers",(function(){return v})),n.d(t,"pointers",(function(){return m})),n.d(t,"touchEnabled",(function(){return g})),n.d(t,"getter",(function(){return x})),n.d(t,"setter",(function(){return D}));var i=function(){return"undefined"!=typeof window},r={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)(\.(\d+(\.\d+)?))?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},o={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},a={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},s={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},d=function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)&&t[i].test(e))return i;return void 0!==n?n:e},c=function(e){var t,n=[];for(var i in r)if(r.hasOwnProperty(i)){if(!(n=e.match(r[i])))continue;if("windows"===i&&"plugins"in window.navigator)return null;var a={};return a.device=i,a.browser=d(e,s,"default"),a.name=d(i,o),a[a.name]=!0,a.majorVersion=n[2],a.minorVersion=n[3]?n[3].replace("_","."):".0",t=a.minorVersion.replace(".","").substr(0,2),a.flatVersion=a.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),a.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,a.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||a.cordova,a}return null},u=function(e){var t=null,n=[];for(var i in a)if(a.hasOwnProperty(i)&&(n=e.match(a[i]))){(t={})[i]=!0,t[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||n[2],10);break}return t},p=i()&&window.navigator?window.navigator.userAgent:null,l=p?u(p):null,h=p?c(p):null,f=i()&&"ontouchstart"in window,v=l&&!l.chrome&&window.MSPointerEvent,m=l&&!l.chrome&&window.PointerEvent,g=h&&(f||v||m),y=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;function _(e){var t=[];return e.replace(y,(function(e,n,i,r){t.push(void 0!==n?n:i||r)})),t}var b={};function x(e){if(b[e])return b[e];var t=_(e);return b[e]=function(e){for(var n=e,i=0;i<t.length&&n;i++)n=n[t[i]];return n},b[e]}b[void 0]=function(e){return e};var I={undefined:function(e){return e}},S=function(e,t){return t&&t.arrays&&!isNaN(Number(e))?[]:{}};function D(e){if(I[e])return I[e];var t=_(e);return I[e]=function(e,n,i){for(var r=e,o=t.length-1,a=0;a<o&&r;a++)r=r[t[a]]=r[t[a]]||S(t[a+1],i);r[t[o]]=n},I[e]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(3),a=function(){function e(){this.changes=new o.Subject}return e.prototype.expand=function(e,t){this.changes.next({dataItem:t,index:e,expand:!0})},e.prototype.collapse=function(e,t){this.changes.next({dataItem:t,index:e,expand:!1})},e=i.__decorate([r.Injectable()],e)}();t.ExpandStateService=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=function(){function e(){this.INDEX_SEPARATOR="_"}return e.prototype.nodeIndex=function(e,t){return void 0===e&&(e=""),void 0===t&&(t=""),""+t+(t?this.INDEX_SEPARATOR:"")+e},e.prototype.indexForLevel=function(e,t){return e.split(this.INDEX_SEPARATOR).slice(0,t).join(this.INDEX_SEPARATOR)},e.prototype.lastLevelIndex=function(e){void 0===e&&(e="");var t=e.split(this.INDEX_SEPARATOR);return t.length?parseInt(t[t.length-1],10):NaN},e.prototype.level=function(e){return e.split(this.INDEX_SEPARATOR).length},e=i.__decorate([r.Injectable()],e)}();t.IndexBuilderService=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(5),a=n(32),s=n(3),d=n(46),c=n(2),u=function(){function e(e){var t,n=this;this.localization=e,this.expands=new s.Subject,this.moves=new s.Subject,this.checks=new s.Subject,this.selects=new s.Subject,this.loadMore=new s.Subject,this.navigable=!0,this.actions=((t={})[o.Keys.ArrowUp]=function(){return n.activate(n.model.findPrev(n.focusableItem))},t[o.Keys.ArrowDown]=function(){return n.activate(n.model.findNext(n.focusableItem))},t[o.Keys.ArrowLeft]=function(){return!n.isLoadMoreButton&&n.expand({expand:n.localization.rtl,intercept:n.localization.rtl?n.moveToChild:n.moveToParent})},t[o.Keys.ArrowRight]=function(){return!n.isLoadMoreButton&&n.expand({expand:!n.localization.rtl,intercept:n.localization.rtl?n.moveToParent:n.moveToChild})},t[o.Keys.Home]=function(){return n.activate(n.model.firstNode())},t[o.Keys.End]=function(){return n.activate(n.model.lastNode())},t[o.Keys.Enter]=function(){return n.handleEnter()},t[o.Keys.Space]=function(){return n.handleSpace()},t),this.isFocused=!1,this._model=new d.NavigationModel,this.moveToChild=this.moveToChild.bind(this),this.moveToParent=this.moveToParent.bind(this)}return Object.defineProperty(e.prototype,"model",{get:function(){return this._model},set:function(e){this._model=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeIndex",{get:function(){return c.nodeIndex(this.activeItem)||null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focusableItem",{get:function(){return this.activeItem||this.model.firstNode()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActiveExpanded",{get:function(){return this.activeItem&&this.activeItem.children.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoadMoreButton",{get:function(){return this.activeItem&&this.activeItem.loadMoreButton},enumerable:!0,configurable:!0}),e.prototype.activate=function(e){this.navigable&&e&&!this.isActive(c.nodeIndex(e))&&(this.isFocused=!0,this.activeItem=e||this.activeItem,this.notifyMove())},e.prototype.activateParent=function(e){this.activate(this.model.findParent(e))},e.prototype.activateIndex=function(e){e&&this.activate(this.model.findNode(e))},e.prototype.activateClosest=function(e){e&&c.nodeIndex(this.focusableItem)===e&&(this.activeItem=this.model.closestNode(e),this.notifyMove())},e.prototype.activateFocusable=function(){this.activeItem||(this.activeItem=this.model.firstNode(),this.notifyMove())},e.prototype.deactivate=function(){this.navigable&&this.isFocused&&(this.isFocused=!1,this.notifyMove())},e.prototype.checkIndex=function(e){this.isDisabled(e)||this.checks.next(e)},e.prototype.selectIndex=function(e){this.isDisabled(e)||this.selects.next(e)},e.prototype.notifyLoadMore=function(e){c.isPresent(e)&&this.loadMore.next(e)},e.prototype.isActive=function(e){return!!e&&(this.isFocused&&this.activeIndex===e)},e.prototype.isFocusable=function(e){return c.nodeIndex(this.focusableItem)===e},e.prototype.isDisabled=function(e){return this.model.findNode(e).disabled},e.prototype.registerItem=function(e,t,n,i){void 0===i&&(i=!1);var r=this.model.findNode(t);c.isPresent(r)&&(this.model.unregisterItem(r.id,r.index),this.isActive(t)&&this.deactivate()),this.model.registerItem(e,t,n,i)},e.prototype.unregisterItem=function(e,t){this.isActive(t)&&this.activateParent(t),this.model.unregisterItem(e,t)},e.prototype.move=function(e){if(this.navigable){var t=this.actions[e.keyCode];t&&(t(),e.preventDefault())}},e.prototype.expand=function(e){var t=e.expand,n=e.intercept,i=c.nodeIndex(this.activeItem);i&&!n(i)&&this.notifyExpand(t)},e.prototype.moveToParent=function(){return!this.isActiveExpanded&&(this.activate(this.model.findParent(c.nodeIndex(this.activeItem))),!0)},e.prototype.moveToChild=function(){return!!this.isActiveExpanded&&(this.activate(this.model.findChild(c.nodeIndex(this.activeItem))),!0)},e.prototype.notifyExpand=function(e){this.expands.next(this.navigationState(e))},e.prototype.notifyMove=function(){this.moves.next(this.navigationState())},e.prototype.navigationState=function(e){return void 0===e&&(e=!1),{expand:e,index:this.activeIndex,isFocused:this.isFocused}},e.prototype.handleEnter=function(){this.navigable&&(this.isLoadMoreButton?this.notifyLoadMore(this.activeIndex):this.selectIndex(this.activeIndex))},e.prototype.handleSpace=function(){this.navigable&&(this.isLoadMoreButton?this.notifyLoadMore(this.activeIndex):this.checkIndex(this.activeIndex))},e=i.__decorate([r.Injectable(),i.__metadata("design:paramtypes",[a.LocalizationService])],e)}();t.NavigationService=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=function(){function e(e){this.templateRef=e}return e=i.__decorate([r.Directive({selector:"[kendoTreeViewNodeTemplate]"}),i.__param(0,r.Optional()),i.__metadata("design:paramtypes",[r.TemplateRef])],e)}();t.NodeTemplateDirective=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=function(){function e(e){this.templateRef=e}return e=i.__decorate([r.Directive({selector:"[kendoTreeViewLoadMoreButtonTemplate]"}),i.__param(0,r.Optional()),i.__metadata("design:paramtypes",[r.TemplateRef])],e)}();t.LoadMoreButtonTemplateDirective=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=function(){function e(e){this.templateRef=e}return e=i.__decorate([r.Directive({selector:"[kendoTreeViewDragClueTemplate]"}),i.__param(0,r.Optional()),i.__metadata("design:paramtypes",[r.TemplateRef])],e)}();t.DragClueTemplateDirective=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=function(){function e(e){this.templateRef=e}return e=i.__decorate([r.Directive({selector:"[kendoTreeViewDropHintTemplate]"}),i.__param(0,r.Optional()),i.__metadata("design:paramtypes",[r.TemplateRef])],e)}();t.DropHintTemplateDirective=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(3),a=function(){function e(){this.changes=new o.Subject}return e.prototype.notifyLoaded=function(e){this.changes.next(e)},e=i.__decorate([r.Injectable()],e)}();t.LoadingNotificationService=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(3),a=function(){function e(){this.changes=new o.Subject}return e.prototype.isFirstSelected=function(e){return this.firstIndex===e},e.prototype.setFirstSelected=function(e,t){this.firstIndex===e&&!1===t?this.firstIndex=null:!this.firstIndex&&t&&(this.firstIndex=e)},e.prototype.select=function(e,t){this.changes.next({dataItem:t,index:e})},e=i.__decorate([r.Injectable()],e)}();t.SelectionService=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(2),a=/\d+$/,s=function(){function e(){this.map=new Map}return e.prototype.registerItem=function(e,t){var n={children:[],item:e,parent:this.item(o.nodeIndex(t))};this.map.set(e.index,n)},e.prototype.registerChildren=function(e,t){var n=this.item(e);n&&(n.children=t)},e.prototype.unregisterItem=function(e,t){var n=this.item(e);n&&n.item.dataItem===t&&(this.map.delete(e),n.parent&&n.parent.children&&(n.parent.children=n.parent.children.filter((function(e){return e.dataItem!==t}))))},e.prototype.replaceItem=function(e,t,n){t&&(this.unregisterItem(e,t.dataItem),this.registerItem(t,n),this.addToParent(t,n))},e.prototype.itemLookup=function(e){var t=this.item(e);return t?{children:this.mapChildren(t.children),item:t.item,parent:t.parent}:null},e.prototype.hasItem=function(e){return this.map.has(e)},e.prototype.item=function(e){return this.map.get(e)||null},e.prototype.addToParent=function(e,t){if(t){var n=this.item(t.index),i=parseInt(a.exec(e.index)[0],10);n.children=n.children||[],n.children.splice(i,0,e)}},e.prototype.mapChildren=function(e){var t=this;return void 0===e&&(e=[]),e.map((function(e){var n=t.item(e.index),i=n.item,r=n.parent,o=n.children;return{children:t.mapChildren(o),item:i,parent:r}}))},e=i.__decorate([r.Injectable()],e)}();t.TreeViewLookupService=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(4),a=n(2),s=n(3),d=n(6),c=function(e){if(!a.isPresent(e)||0===e.children.length)return[];var t=e.children;return t.forEach((function(e){return t=t.concat(c(e))})),t},u=function(){function e(e,t){var n=this;this.treeView=e,this.zone=t,this.checkedKeysChange=new r.EventEmitter,this.subscriptions=new s.Subscription,this.checkActions={multiple:function(e){return n.checkMultiple(e)},single:function(e){return n.checkSingle(e)}},this._checkedKeys=[],this.subscriptions.add(this.treeView.checkedChange.subscribe((function(e){return n.check(e)})));var i=[];this.subscriptions.add(this.treeView.childrenLoaded.pipe(d.filter((function(){return n.options.checkChildren})),d.tap((function(e){return i.push(e)})),d.switchMap((function(){return n.zone.onStable.pipe(d.take(1))}))).subscribe((function(){return n.addCheckedItemsChildren(i)}))),this.treeView.isChecked=this.isItemChecked.bind(this)}return Object.defineProperty(e.prototype,"isChecked",{set:function(e){this.treeView.isChecked=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkedKeys",{get:function(){return this._checkedKeys},set:function(e){this._checkedKeys=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){var e={checkChildren:!0,checkParents:!0,enabled:!0,mode:"multiple"};if(!a.isPresent(this.checkable)||"string"==typeof this.checkable)return e;var t="boolean"==typeof this.checkable?{enabled:this.checkable}:this.checkable;return Object.assign(e,t)},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){e.checkable&&(this.treeView.checkboxes=this.options.enabled,this.toggleCheckOnClick())},e.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe(),this.unsubscribeClick()},e.prototype.isItemChecked=function(e,t){return this.checkKey?this.checkedKeys.indexOf(this.itemKey({dataItem:e,index:t}))>-1?"checked":"none":this.isIndexChecked(t)},e.prototype.isIndexChecked=function(e){var t=this.checkedKeys.filter(function(e){return function(t){return e===t||!!t.split&&t.split("_").reduce((function(t,n){var i=t.key,r=t.result;return e===(i+=n)||r?{result:!0}:{key:i+="_",result:!1}}),{key:"",result:!1}).result}}(e));if(function(e,t){return e.filter((function(e){return e===t})).length>0}(t,e))return"checked";var n=this.options,i=n.mode,r=n.checkParents;return"multiple"===i&&r&&t.length?"indeterminate":"none"},e.prototype.itemKey=function(e){return a.isPresent(this.checkKey)?"string"==typeof this.checkKey&&a.isPresent(e.dataItem)?e.dataItem[this.checkKey]:"function"==typeof this.checkKey?this.checkKey(e):void 0:e.index},e.prototype.check=function(e){var t=this.options,n=t.enabled,i=t.mode,r=this.checkActions[i]||a.noop;n&&r(e)},e.prototype.checkSingle=function(e){var t=this.itemKey(e.item);this.checkedKeys=this.checkedKeys[0]!==t?[t]:[],this.notify()},e.prototype.checkMultiple=function(e){this.checkNode(e),this.options.checkParents&&this.checkParents(e.parent),this.notify()},e.prototype.toggleCheckOnClick=function(){var e=this;this.unsubscribeClick(),this.options.checkOnClick&&(this.clickSubscription=this.treeView.nodeClick.subscribe((function(t){if("click"===t.type){var n=e.treeView.itemLookup(t.item.index);e.check(n)}})))},e.prototype.unsubscribeClick=function(){this.clickSubscription&&(this.clickSubscription.unsubscribe(),this.clickSubscription=null)},e.prototype.checkNode=function(e){var t=this;if(a.isPresent(e.item.dataItem)&&!this.treeView.isDisabledNode(e)){var n=this.itemKey(e.item);if(a.isPresent(n)){var i=new Set(this.checkedKeys),r=[n];if(this.options.checkChildren){var o=c(e).filter((function(e){return a.isPresent(e.item.dataItem)&&!t.treeView.isDisabledNode(e)})).map((function(e){var n=e.item;return t.itemKey(n)}));r.push.apply(r,o)}var s=!i.has(n);r.forEach((function(e){s?i.add(e):i.delete(e)})),this.checkedKeys=Array.from(i)}}},e.prototype.checkParents=function(e){var t=this;if(a.isPresent(e)){for(var n=new Set(this.checkedKeys),i=e;i;){var r=this.itemKey(i.item);i.children.every((function(e){return n.has(t.itemKey(e))}))?n.add(r):n.delete(r),i=i.parent}this.checkedKeys=Array.from(n)}},e.prototype.notify=function(){this.checkedKeysChange.emit(this.checkedKeys.slice())},e.prototype.addCheckedItemsChildren=function(e){var t=this;if(a.isPresent(e)&&0!==e.length){var n=this.checkedKeys.length,i=new Set(this.checkedKeys);e.forEach((function(e){var n=t.itemKey(e.item);i.has(n)&&e.children.forEach((function(e){return a.isPresent(e.dataItem)&&i.add(t.itemKey(e))}))})),n!==i.size&&(this.checkedKeys=Array.from(i),this.zone.run((function(){return t.notify()})))}},i.__decorate([r.Input(),i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[Function])],e.prototype,"isChecked",null),i.__decorate([r.Input("checkBy"),i.__metadata("design:type",Object)],e.prototype,"checkKey",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Array),i.__metadata("design:paramtypes",[Array])],e.prototype,"checkedKeys",null),i.__decorate([r.Input("kendoTreeViewCheckable"),i.__metadata("design:type",Object)],e.prototype,"checkable",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"checkedKeysChange",void 0),e=i.__decorate([r.Directive({selector:"[kendoTreeViewCheckable]"}),i.__metadata("design:paramtypes",[o.TreeViewComponent,r.NgZone])],e)}();t.CheckDirective=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(4),a=function(){function e(e,t){var n=this;this.treeView=e,this.cdr=t,this.disabledKeys=[],this.treeView.isDisabled=function(e,t){return n.disabledKeys.indexOf(n.itemKey({dataItem:e,index:t}))>-1}}return Object.defineProperty(e.prototype,"isDisabled",{set:function(e){this.treeView.isDisabled=e},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){void 0===e&&(e={});var t=e.disabledKeys;t&&!t.firstChange&&this.cdr.markForCheck()},e.prototype.itemKey=function(e){return this.disableKey?"string"==typeof this.disableKey?e.dataItem[this.disableKey]:"function"==typeof this.disableKey?this.disableKey(e):void 0:e.index},i.__decorate([r.Input(),i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[Function])],e.prototype,"isDisabled",null),i.__decorate([r.Input("kendoTreeViewDisable"),i.__metadata("design:type",Object)],e.prototype,"disableKey",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Array)],e.prototype,"disabledKeys",void 0),e=i.__decorate([r.Directive({selector:"[kendoTreeViewDisable]"}),i.__metadata("design:paramtypes",[o.TreeViewComponent,r.ChangeDetectorRef])],e)}();t.DisableDirective=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(4),a=n(3),s=n(6),d=function(){function e(e){var t=this;this.treeView=e,this.expandedKeysChange=new r.EventEmitter,this.subscriptions=new a.Subscription,this._expandedKeys=[],this.subscriptions.add(a.merge(this.treeView.expand.pipe(s.map((function(e){return i.__assign({expand:!0},e)}))),this.treeView.collapse.pipe(s.map((function(e){return i.__assign({expand:!1},e)})))).subscribe(this.toggleExpand.bind(this))),this.treeView.isExpanded=function(e,n){return t.expandedKeys.indexOf(t.itemKey({dataItem:e,index:n}))>-1}}return Object.defineProperty(e.prototype,"isExpanded",{set:function(e){this.treeView.isExpanded=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expandedKeys",{get:function(){return this._expandedKeys},set:function(e){this._expandedKeys=e},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe()},e.prototype.itemKey=function(e){if(this.expandKey){if("string"==typeof this.expandKey)return e.dataItem[this.expandKey];if("function"==typeof this.expandKey)return this.expandKey(e)}return e.index},e.prototype.toggleExpand=function(e){var t=e.index,n=e.dataItem,i=e.expand,r=this.itemKey({index:t,dataItem:n}),o=this.expandedKeys.indexOf(r),a=!1;o>-1&&!i?(this.expandedKeys.splice(o,1),a=!0):-1===o&&i&&(this.expandedKeys.push(r),a=!0),a&&this.expandedKeysChange.emit(this.expandedKeys)},i.__decorate([r.Input(),i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[Function])],e.prototype,"isExpanded",null),i.__decorate([r.Input("expandBy"),i.__metadata("design:type",Object)],e.prototype,"expandKey",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"expandedKeysChange",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Array),i.__metadata("design:paramtypes",[Array])],e.prototype,"expandedKeys",null),e=i.__decorate([r.Directive({selector:"[kendoTreeViewExpandable]"}),i.__metadata("design:paramtypes",[o.TreeViewComponent])],e)}();t.ExpandDirective=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(4),a=n(2),s=n(3),d=function(){function e(e){var t=this;this.treeView=e,this.selectedKeysChange=new r.EventEmitter,this.subscriptions=new s.Subscription,this.selectActions={multiple:function(e){return t.selectMultiple(e)},single:function(e){return t.selectSingle(e)}},this._selectedKeys=[],this.subscriptions.add(this.treeView.selectionChange.subscribe(this.select.bind(this))),this.treeView.isSelected=function(e,n){return t.selectedKeys.indexOf(t.itemKey({dataItem:e,index:n}))>-1}}return Object.defineProperty(e.prototype,"isSelected",{set:function(e){this.treeView.isSelected=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedKeys",{get:function(){return this._selectedKeys},set:function(e){this._selectedKeys=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getAriaMultiselectable",{get:function(){return"multiple"===this.options.mode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){var e={enabled:!0,mode:"single"};if(!a.isPresent(this.selection)||"string"==typeof this.selection)return e;var t="boolean"==typeof this.selection?{enabled:this.selection}:this.selection;return Object.assign(e,t)},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe()},e.prototype.itemKey=function(e){return this.selectKey?"string"==typeof this.selectKey?e.dataItem[this.selectKey]:"function"==typeof this.selectKey?this.selectKey(e):void 0:e.index},e.prototype.select=function(e){var t=this.options,n=t.enabled,i=t.mode,r=this.selectActions[i]||a.noop;n&&r(e)},e.prototype.selectSingle=function(e){var t=this.itemKey(e);this.selectedKeys[0]!==t&&(this.selectedKeys=[t],this.notify())},e.prototype.selectMultiple=function(e){var t=this.itemKey(e),n=this.selectedKeys.indexOf(t),i=n>-1;a.isPresent(t)&&(i?this.selectedKeys.splice(n,1):this.selectedKeys.push(t),this.notify())},e.prototype.notify=function(){this.selectedKeysChange.emit(this.selectedKeys.slice())},i.__decorate([r.Input(),i.__metadata("design:type",Function),i.__metadata("design:paramtypes",[Function])],e.prototype,"isSelected",null),i.__decorate([r.Input("selectBy"),i.__metadata("design:type",Object)],e.prototype,"selectKey",void 0),i.__decorate([r.Input("kendoTreeViewSelectable"),i.__metadata("design:type",Object)],e.prototype,"selection",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Array),i.__metadata("design:paramtypes",[Array])],e.prototype,"selectedKeys",null),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"selectedKeysChange",void 0),i.__decorate([r.HostBinding("attr.aria-multiselectable"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],e.prototype,"getAriaMultiselectable",null),e=i.__decorate([r.Directive({selector:"[kendoTreeViewSelectable]"}),i.__metadata("design:paramtypes",[o.TreeViewComponent])],e)}();t.SelectDirective=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(8),a=n(4),s=n(2),d=n(3),c=n(51),u=function(){function e(e){this.treeView=e}return Object.defineProperty(e.prototype,"childrenField",{get:function(){return this._childrenField},set:function(e){if(!e)throw new Error("'childrenField' cannot be empty");this._childrenField=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;s.isPresent(this.childrenField)&&(this.treeView.children=function(t){return d.of(o.getter(e.childrenField)(t))},this.treeView.hasChildren=function(t){var n=o.getter(e.childrenField)(t);return Boolean(n&&n.length)},this.treeView.editService=new c.HierarchyEditingService(this))},i.__decorate([r.Input(),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[String])],e.prototype,"childrenField",null),e=i.__decorate([r.Directive({selector:"[kendoTreeViewHierarchyBinding]"}),i.__metadata("design:paramtypes",[a.TreeViewComponent])],e)}();t.HierarchyBindingDirective=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.prevented=!1}return e.prototype.preventDefault=function(){this.prevented=!0},e.prototype.isDefaultPrevented=function(){return this.prevented},e}();t.PreventableEvent=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r,o,a=n(5),s=n(2),d=n(7),c=(i=function(){if(!a.isDocumentAvailable()||!s.isPresent(document.body))return!1;var e=document.createElement("div");e.style.transform="matrix(10, 0, 0, 10, 0, 0)",e.innerHTML='<div style="position: fixed; top: 10px;">child</div>',document.body.appendChild(e);var t=10!==e.children[0].getBoundingClientRect().top;return document.body.removeChild(e),t},o=!1,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o||(r=i.apply(void 0,e),o=!0),r});t.getContainerOffset=function(e){if(!e||!c())return{left:0,top:0};for(var t=e.parentElement;t&&"none"===window.getComputedStyle(t).transform;)t=t.parentElement;if(t){var n=t.getBoundingClientRect();return{left:n.left-t.scrollLeft,top:n.top-t.scrollTop}}return{left:0,top:0}},t.getDropAction=function(e,t){if(!s.isPresent(e)||!s.isPresent(t))return d.DropAction.Invalid;switch(e){case d.DropPosition.Over:return d.DropAction.Add;case d.DropPosition.Before:return s.isPresent(s.closestNode(t).previousElementSibling)?d.DropAction.InsertMiddle:d.DropAction.InsertTop;case d.DropPosition.After:return s.isPresent(s.closestNode(t).nextElementSibling)?d.DropAction.InsertMiddle:d.DropAction.InsertBottom;default:return d.DropAction.Invalid}},t.getDropPosition=function(e,t,n,i,r){if(s.isPresent(e)&&s.isPresent(t)&&s.isPresent(i)&&s.isPresent(r)){var o=s.closestWithMatch(t,".k-mid");if(s.isPresent(o)){var a=s.getContentElement(o),c=s.hasParent(o,s.closestNode(e));if(s.isPresent(a)&&a!==e&&!c){var u=a.getBoundingClientRect(),p=u.height/(s.isContent(t)?4:2),l=n-r.top,h=u.top-r.top;return l<h+p?d.DropPosition.Before:l>=h+u.height-p?d.DropPosition.After:d.DropPosition.Over}}}},t.treeItemFromEventTarget=function(e,t){if(!s.isPresent(e)||!s.isPresent(t))return null;var n=s.closestNode(t),i=s.nodeId(n),r=e.itemLookup(i);return s.isPresent(r)&&s.isPresent(r.item.dataItem)?r:null},t.collapseEmptyParent=function(e,t,n){s.isPresent(e)&&0===t.length&&n.isExpanded(e.item.dataItem,e.item.index)&&n.collapseNode(e.item.dataItem,e.item.index)},t.expandDropTarget=function(e,t){t.isExpanded(e.item.dataItem,e.item.index)||t.expandNode(e.item.dataItem,e.item.index)},t.getDropTarget=function(e){return a.isDocumentAvailable()&&s.isPresent(document.elementFromPoint)?document.elementFromPoint(e.clientX,e.clientY):e.target}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(5),a=n(8),s=n(3),d=n(53),c=n(4),u=n(2),p=n(54),l=function(){function e(e){this.treeView=e,this.originalData=[]}return Object.defineProperty(e.prototype,"nodes",{set:function(e){if(this.originalData=e||[],u.isNullOrEmptyString(this.parentIdField))this.treeView.nodes=this.originalData.slice(0);else{var t=a.getter(this.parentIdField);this.treeView.nodes=this.originalData.filter(d.compose(u.isBlank,t))}},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;if(u.isPresent(this.parentIdField)&&u.isPresent(this.idField)){var t=function(t){return n=a.getter(e.parentIdField),i=e.originalData||[],r=a.getter(e.idField)(t),i.filter((function(e){return n(e)===r}));var n,i,r};this.treeView.hasChildren=function(e){return t(e).length>0},this.treeView.children=function(e){return s.of(t(e))},this.treeView.editService=new p.FlatEditingService(this)}},e.prototype.ngOnChanges=function(e){o.isChanged("parentIdField",e,!1)&&(this.nodes=this.originalData)},i.__decorate([r.Input(),i.__metadata("design:type",Array),i.__metadata("design:paramtypes",[Array])],e.prototype,"nodes",null),i.__decorate([r.Input(),i.__metadata("design:type",String)],e.prototype,"parentIdField",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],e.prototype,"idField",void 0),e=i.__decorate([r.Directive({selector:"[kendoTreeViewFlatDataBinding]"}),i.__metadata("design:paramtypes",[c.TreeViewComponent])],e)}();t.FlatDataBindingDirective=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(5),a=n(30),s=n(59),d=n(60),c=n(14),u=n(15),p=n(25),l=n(2),h=n(4),f=n(7),v=function(){function e(e,t,n,i,r){this.element=e,this.zone=t,this.treeview=n,this.dragClueService=i,this.dropHintService=r,this.allowCopy=!1,this.dropZoneTreeViews=[],this.userSelectStyle="none",this.containerOffset={top:0,left:0},this.treeview.touchActions=!1}return e.prototype.ngAfterContentInit=function(){this.initalizeDraggable(),this.dragClueService.initialize(this.treeview.assetsContainer,this.dragClueTemplate&&this.dragClueTemplate.templateRef),this.dropHintService.initialize(this.treeview.assetsContainer,this.dropHintTemplate&&this.dropHintTemplate.templateRef)},e.prototype.ngOnDestroy=function(){this.draggable.destroy()},e.prototype.handlePress=function(e){var t=this,n=e.originalEvent;if(l.isContent(n.target)){var i=p.getDropTarget(n);if(o.hasObservers(this.treeview.nodeDragStart))if(this.zone.run((function(){return t.notifyDragStart(n,i)})).isDefaultPrevented())return;this.draggedItem=l.closestWithMatch(n.target,".k-in"),this.dragClueService.cancelReturnAnimation(),this.dragClueService.updateText(this.draggedItem.innerText),this.containerOffset=p.getContainerOffset(this.draggedItem)}},e.prototype.handleDrag=function(e){var t=this,n=e.originalEvent,i=e.clientX,r=e.clientY;if(l.isPresent(this.draggedItem)){var a=p.getDropTarget(n);o.hasObservers(this.treeview.nodeDrag)&&this.zone.run((function(){return t.notifyDrag(n,a)}));var s=this.getTargetTreeView(a),d=p.getDropPosition(this.draggedItem,a,r,s,this.containerOffset),c=l.closestWithMatch(a,".k-mid");this.updateDropHintState(d,c);var u=p.getDropAction(d,a),h=p.treeItemFromEventTarget(this.treeview,this.draggedItem),f=p.treeItemFromEventTarget(s,a);this.updateDragClueState(u,i,r,h,f)}},e.prototype.handleRelease=function(e){var t=this,n=e.originalEvent,i=e.clientY;if(l.isPresent(this.draggedItem)){var r=p.getDropTarget(n),a=this.treeview,s=this.getTargetTreeView(r),d=p.getDropPosition(this.draggedItem,r,i,this.getTargetTreeView(r),this.containerOffset),c=p.treeItemFromEventTarget(a,this.draggedItem),u=p.treeItemFromEventTarget(s,r);l.isPresent(u)&&l.isPresent(d)?this.zone.run((function(){return t.notifyDrop({sourceItem:c,destinationItem:u,dropPosition:d,sourceTree:a,destinationTree:s},n)})):this.dragClueService.animateDragClueToElementPosition(this.draggedItem),o.hasObservers(this.treeview.nodeDragEnd)&&this.zone.run((function(){return t.notifyDragEnd({sourceItem:c,destinationItem:u,originalEvent:n})})),this.dropHintService.hide(),this.draggedItem=null}},e.prototype.updateDropHintState=function(e,t){if(l.isPresent(t)&&e!==f.DropPosition.Over&&l.isPresent(e)){var n=t.getBoundingClientRect(),i=e===f.DropPosition.Before?n.top:n.top+n.height;this.dropHintService.move(n.left-this.containerOffset.left,i-this.containerOffset.top),this.dropHintService.show()}else this.dropHintService.hide()},e.prototype.updateDragClueState=function(e,t,n,i,r){this.dragClueService.move(t-this.containerOffset.left,n-this.containerOffset.top),this.dragClueService.updateDragClueData(e,i,r),this.dragClueService.show()},e.prototype.initalizeDraggable=function(){var e=this;this.draggable=new a.default({press:this.handlePress.bind(this),drag:this.handleDrag.bind(this),release:this.handleRelease.bind(this)}),this.zone.runOutsideAngular((function(){return e.draggable.bindTo(e.element.nativeElement)}))},e.prototype.notifyDragStart=function(e,t){var n=p.treeItemFromEventTarget(this.treeview,t),i=new f.TreeItemDragStartEvent({sourceItem:n,originalEvent:e});return this.treeview.nodeDragStart.emit(i),i},e.prototype.notifyDrag=function(e,t){var n={sourceItem:p.treeItemFromEventTarget(this.treeview,this.draggedItem),destinationItem:p.treeItemFromEventTarget(this.getTargetTreeView(t),t),originalEvent:e};this.treeview.nodeDrag.emit(n)},e.prototype.notifyDrop=function(e,t){var n=new f.TreeItemDropEvent(e,t);e.destinationTree.nodeDrop.emit(n),this.disableAnimationsForNextTick(e.destinationTree),e.sourceTree!==e.destinationTree&&this.disableAnimationsForNextTick(e.sourceTree),!n.isDefaultPrevented()&&n.isValid?(this.dragClueService.hide(),e.destinationTree.addItem.emit(e),t.ctrlKey&&this.allowCopy||e.sourceTree.removeItem.emit(e)):n.isDefaultPrevented()?this.dragClueService.hide():n.isValid||this.dragClueService.animateDragClueToElementPosition(this.draggedItem)},e.prototype.notifyDragEnd=function(e){this.treeview.nodeDragEnd.emit(e)},e.prototype.getTargetTreeView=function(e){var t=this.treeview.element.nativeElement.tagName,n=l.closestWithMatch(e,t);return[this.treeview].concat(this.dropZoneTreeViews).find((function(e){return l.isPresent(e)&&e.element.nativeElement===n}))},e.prototype.disableAnimationsForNextTick=function(e){e.animate||(e.animate=!1,this.zone.runOutsideAngular((function(){return setTimeout((function(){return e.animate=!0}))})))},i.__decorate([r.Input(),i.__metadata("design:type",Boolean)],e.prototype,"allowCopy",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Array)],e.prototype,"dropZoneTreeViews",void 0),i.__decorate([r.ContentChild(c.DragClueTemplateDirective),i.__metadata("design:type",c.DragClueTemplateDirective)],e.prototype,"dragClueTemplate",void 0),i.__decorate([r.ContentChild(u.DropHintTemplateDirective),i.__metadata("design:type",u.DropHintTemplateDirective)],e.prototype,"dropHintTemplate",void 0),i.__decorate([r.HostBinding("style.user-select"),r.HostBinding("style.-ms-user-select"),i.__metadata("design:type",String)],e.prototype,"userSelectStyle",void 0),e=i.__decorate([r.Directive({selector:"[kendoTreeViewDragAndDrop]",providers:[s.DragClueService,d.DropHintService]}),i.__metadata("design:paramtypes",[r.ElementRef,r.NgZone,h.TreeViewComponent,s.DragClueService,d.DropHintService])],e)}();t.DragAndDropDirective=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(3),a=n(4),s=n(2),d=function(){function e(e){this.treeview=e,this.subscriptions=new o.Subscription,this.subscriptions.add(this.treeview.addItem.subscribe(this.handleAdd.bind(this))),this.subscriptions.add(this.treeview.removeItem.subscribe(this.handleRemove.bind(this)))}return Object.defineProperty(e.prototype,"editService",{set:function(e){this.treeview.editService=e},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe()},e.prototype.handleAdd=function(e){if(!s.isPresent(this.treeview.editService))throw new Error("No `editService` provided. Either provide your own implementation or use this directive in combination with one of the data binding directives (`kendoTreeViewHierarchyBinding` or `kendoTreeViewFlatDataBinding`).");this.treeview.editService.add(e)},e.prototype.handleRemove=function(e){if(!s.isPresent(this.treeview.editService))throw new Error("No `editService` provided. Either provide your own implementation or use this directive in combination with one of the data binding directives (`kendoTreeViewHierarchyBinding` or `kendoTreeViewFlatDataBinding`).");this.treeview.editService.remove(e)},i.__decorate([r.Input(),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[Object])],e.prototype,"editService",null),e=i.__decorate([r.Directive({selector:"[kendoTreeViewDragAndDropEditing]"}),i.__metadata("design:paramtypes",[a.TreeViewComponent])],e)}();t.DragAndDropEditingDirective=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(5),a=n(4),s=n(2),d="http://www.telerik.com/kendo-angular-ui/components/treeview/load-more-button/",c=function(){function e(e){this.treeview=e,this.pageSizes=new Map,this.rootLevelId=o.guid(),this.treeview.loadMoreService={getInitialPageSize:this.getInitalPageSize.bind(this),getGroupSize:this.getGroupSize.bind(this),setGroupSize:this.setGroupSize.bind(this),getTotalNodesCount:this.getTotalNodesCount.bind(this)}}return Object.defineProperty(e.prototype,"loadMoreNodes",{set:function(e){"string"!=typeof e&&(this.treeview.loadMoreService.loadMoreNodes=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(){this.verifySettings()},e.prototype.verifySettings=function(){if(r.isDevMode()){if(!s.isPresent(this.pageSize))throw new Error("To use the TreeView `kendoTreeViewLoadMore` directive, you need to assign a `pageSize` value. See "+d+".");var e=this.treeview.loadMoreService.loadMoreNodes;if(s.isPresent(e)&&"function"!=typeof e)throw new Error("The passed value to the `kendoTreeViewLoadMore` directive must be a function that retrieves additional nodes. See "+d+".");if(s.isPresent(e)&&!s.isPresent(this.totalField))throw new Error("When a function to fetch additional nodes is provided to the `kendoTreeViewLoadMore` directive, the `totalField` and `totalRootNodes` values must also be provided. See "+d+".")}},e.prototype.getGroupSize=function(e){var t=e||this.rootLevelId;return this.pageSizes.has(t)?this.pageSizes.get(t):this.pageSize},e.prototype.setGroupSize=function(e,t){var n=e||this.rootLevelId,i=t>0?t:0;this.pageSizes.set(n,i)},e.prototype.getTotalNodesCount=function(e,t){return s.isPresent(e)&&s.isPresent(this.totalField)?e[this.totalField]:!s.isPresent(e)&&s.isPresent(this.totalRootNodes)?this.totalRootNodes:t},e.prototype.getInitalPageSize=function(){return this.pageSize},i.__decorate([r.Input("kendoTreeViewLoadMore"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[Object])],e.prototype,"loadMoreNodes",null),i.__decorate([r.Input(),i.__metadata("design:type",Number)],e.prototype,"pageSize",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Number)],e.prototype,"totalRootNodes",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],e.prototype,"totalField",void 0),e=i.__decorate([r.Directive({selector:"[kendoTreeViewLoadMore]"}),i.__metadata("design:paramtypes",[a.TreeViewComponent])],e)}();t.LoadMoreDirective=c},function(e,t,n){"use strict";n.r(t),n.d(t,"Draggable",(function(){return u}));var i=function(e,t){return function(n){return t(e(n))}},r=function(e,t,n){return e.addEventListener&&e.addEventListener(t,n)},o=function(e,t,n){return e&&e.removeEventListener&&e.removeEventListener(t,n)},a=function(){},s=function(e){return e.preventDefault()},d=/touch/;function c(e){return e.type.match(d)?{pageX:e.changedTouches[0].pageX,pageY:e.changedTouches[0].pageY,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,type:e.type,originalEvent:e,isTouch:!0}:{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY,offsetX:e.offsetX,offsetY:e.offsetY,type:e.type,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,originalEvent:e}}var u=function(e){var t=this,n=e.press;void 0===n&&(n=a);var d=e.drag;void 0===d&&(d=a);var u=e.release;void 0===u&&(u=a);var p=e.mouseOnly;void 0===p&&(p=!1),this._pressHandler=i(c,n),this._dragHandler=i(c,d),this._releaseHandler=i(c,u),this._ignoreMouse=!1,this._mouseOnly=p,this._touchstart=function(e){1===e.touches.length&&t._pressHandler(e)},this._touchmove=function(e){1===e.touches.length&&t._dragHandler(e)},this._touchend=function(e){0===e.touches.length&&1===e.changedTouches.length&&(t._releaseHandler(e),t._ignoreMouse=!0,setTimeout(t._restoreMouse,2e3))},this._restoreMouse=function(){t._ignoreMouse=!1},this._mousedown=function(e){var n=e.which;n&&n>1||t._ignoreMouse||(r(document,"mousemove",t._mousemove),r(document,"mouseup",t._mouseup),t._pressHandler(e))},this._mousemove=function(e){t._dragHandler(e)},this._mouseup=function(e){o(document,"mousemove",t._mousemove),o(document,"mouseup",t._mouseup),t._releaseHandler(e)},this._pointerdown=function(e){e.isPrimary&&0===e.button&&(r(document,"pointermove",t._pointermove),r(document,"pointerup",t._pointerup),r(document,"pointercancel",t._pointerup),r(document,"contextmenu",s),t._pressHandler(e))},this._pointermove=function(e){e.isPrimary&&t._dragHandler(e)},this._pointerup=function(e){e.isPrimary&&(o(document,"pointermove",t._pointermove),o(document,"pointerup",t._pointerup),o(document,"pointercancel",t._pointerup),o(document,"contextmenu",s),t._releaseHandler(e))}};u.supportPointerEvent=function(){return"undefined"!=typeof window&&window.PointerEvent},u.prototype.bindTo=function(e){e!==this._element&&(this._element&&this._unbindFromCurrent(),this._element=e,this._bindToCurrent())},u.prototype._bindToCurrent=function(){var e=this._element;this._usePointers()?r(e,"pointerdown",this._pointerdown):(r(e,"mousedown",this._mousedown),this._mouseOnly||(r(e,"touchstart",this._touchstart),r(e,"touchmove",this._touchmove),r(e,"touchend",this._touchend)))},u.prototype._unbindFromCurrent=function(){var e=this._element;if(this._usePointers())return o(e,"pointerdown",this._pointerdown),o(document,"pointermove",this._pointermove),o(document,"pointerup",this._pointerup),o(document,"contextmenu",s),void o(document,"pointercancel",this._pointerup);o(e,"mousedown",this._mousedown),this._mouseOnly||(o(e,"touchstart",this._touchstart),o(e,"touchmove",this._touchmove),o(e,"touchend",this._touchend))},u.prototype._usePointers=function(){return!this._mouseOnly&&u.supportPointerEvent()},u.prototype.update=function(e){var t=e.press;void 0===t&&(t=a);var n=e.drag;void 0===n&&(n=a);var r=e.release;void 0===r&&(r=a);var o=e.mouseOnly;void 0===o&&(o=!1),this._pressHandler=i(c,t),this._dragHandler=i(c,n),this._releaseHandler=i(c,r),this._mouseOnly=o},u.prototype.destroy=function(){this._unbindFromCurrent(),this._element=null},u.default=u,t.default=u},function(e,t){e.exports=i},function(e,t){e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(){function e(){this.changes=new i.EventEmitter}return e.prototype.notify=function(){this.changes.emit()},e}();t.DataChangeNotificationService=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasChildren=function(){return!1},t.isChecked=function(){return"none"},t.isDisabled=function(){return!1},t.isExpanded=function(){return!0},t.isSelected=function(){return!1},t.trackBy=function(e,t){return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(3),a=function(){function e(){this.changes=new o.Subject}return e.prototype.childrenLoaded=function(e,t){this.changes.next({item:e,children:t})},e=i.__decorate([r.Injectable()],e)}();t.NodeChildrenService=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Add=0]="Add",e[e.InsertTop=1]="InsertTop",e[e.InsertBottom=2]="InsertBottom",e[e.InsertMiddle=3]="InsertMiddle",e[e.Invalid=4]="Invalid"}(t.DropAction||(t.DropAction={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Over=0]="Over",e[e.Before=1]="Before",e[e.After=2]="After"}(t.DropPosition||(t.DropPosition={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=function(e){function t(t,n){var i=e.call(this)||this;return i.isValid=!0,Object.assign(i,t),i.originalEvent=n,i}return i.__extends(t,e),t.prototype.setValid=function(e){this.isValid=e},t}(n(24).PreventableEvent);t.TreeItemDropEvent=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=function(e){function t(t){var n=e.call(this)||this;return Object.assign(n,t),n}return i.__extends(t,e),t}(n(24).PreventableEvent);t.TreeItemDragStartEvent=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){};t.TreeItemDragEvent=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2);t.copyPageSize=function(e,t,n){if(i.isPresent(e.loadMoreService)){var r=e.getNodePageSize(t);e.setNodePageSize(n,r)}},t.incrementPageSize=function(e,t){if(i.isPresent(e.loadMoreService)){var n=e.getNodePageSize(t);e.setNodePageSize(t,n+1)}},t.decrementPageSize=function(e,t){if(i.isPresent(e.loadMoreService)){var n=e.getNodePageSize(t);e.setNodePageSize(t,n-1)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(7),a=function(){function e(e){this.cdr=e,this.hostClasses=!0,this.posistionStyle="fixed"}return Object.defineProperty(e.prototype,"statusIconClass",{get:function(){switch(this.action){case o.DropAction.Add:return"k-i-plus";case o.DropAction.InsertTop:return"k-i-insert-up";case o.DropAction.InsertBottom:return"k-i-insert-down";case o.DropAction.InsertMiddle:return"k-i-insert-middle";case o.DropAction.Invalid:default:return"k-i-cancel"}},enumerable:!0,configurable:!0}),e.prototype.detectChanges=function(){this.cdr.detectChanges()},i.__decorate([r.HostBinding("class.k-header"),r.HostBinding("class.k-drag-clue"),i.__metadata("design:type",Boolean)],e.prototype,"hostClasses",void 0),i.__decorate([r.HostBinding("style.position"),i.__metadata("design:type",String)],e.prototype,"posistionStyle",void 0),e=i.__decorate([r.Component({changeDetection:r.ChangeDetectionStrategy.OnPush,selector:"kendo-treeview-drag-clue",template:'\n        <ng-container *ngIf="!template">\n            <span class="k-icon {{statusIconClass}} k-drag-status"></span>\n            <span>{{text}}</span>\n        </ng-container>\n\n        <ng-template\n            *ngIf="template"\n            [ngTemplateOutlet]="template"\n            [ngTemplateOutletContext]="{\n                text: text,\n                action: action,\n                sourceItem: sourceItem,\n                destinationItem: destinationItem\n            }"\n        >\n        </ng-template>\n    '}),i.__metadata("design:paramtypes",[r.ChangeDetectorRef])],e)}();t.DragClueComponent=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),r=function(){function e(){}return Object.defineProperty(e.prototype,"componentRef",{get:function(){if(!i.isPresent(this._componentRef))throw new Error("The `initalize` method must be called before calling other service methods.");return this._componentRef},set:function(e){this._componentRef=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.componentRef.location.nativeElement},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){i.isPresent(this._componentRef)&&(this.element.parentElement.removeChild(this.element),this.componentRef.destroy(),this.componentRef=null)},e.prototype.show=function(){this.element.style.display=""},e.prototype.hide=function(){this.element.style.display="none"},e.prototype.move=function(e,t,n){void 0===n&&(n=0),this.element.style.left=e+n+"px",this.element.style.top=t+n+"px"},e}();t.DragAndDropAssetService=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=function(){function e(){this.hostClass=!0,this.position="fixed",this.pointerEvents="none"}return i.__decorate([r.HostBinding("class.k-drop-hint-container"),i.__metadata("design:type",Boolean)],e.prototype,"hostClass",void 0),i.__decorate([r.HostBinding("style.position"),i.__metadata("design:type",String)],e.prototype,"position",void 0),i.__decorate([r.HostBinding("style.pointer-events"),i.__metadata("design:type",String)],e.prototype,"pointerEvents",void 0),e=i.__decorate([r.Component({changeDetection:r.ChangeDetectionStrategy.OnPush,selector:"kendo-treeview-drop-hint",template:'\n        <div\n            *ngIf="!template"\n            class="k-drop-hint k-drop-hint-h"\n        >\n            <div class=\'k-drop-hint-start\'></div>\n            <div class=\'k-drop-hint-line\'></div>\n        </div>\n\n        <ng-template\n            *ngIf="template"\n            [ngTemplateOutlet]="template"\n        >\n        <ng-template>\n    '})],e)}();t.DropHintComponent=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4);t.TreeViewComponent=i.TreeViewComponent;var r=n(47);t.TreeViewModule=r.TreeViewModule;var o=n(12);t.NodeTemplateDirective=o.NodeTemplateDirective;var a=n(19);t.CheckDirective=a.CheckDirective;var s=n(20);t.DisableDirective=s.DisableDirective;var d=n(21);t.ExpandDirective=d.ExpandDirective;var c=n(22);t.SelectDirective=c.SelectDirective;var u=n(23);t.HierarchyBindingDirective=u.HierarchyBindingDirective;var p=n(26);t.FlatDataBindingDirective=p.FlatDataBindingDirective;var l=n(27);t.DragAndDropDirective=l.DragAndDropDirective;var h=n(28);t.DragAndDropEditingDirective=h.DragAndDropEditingDirective;var f=n(15);t.DropHintTemplateDirective=f.DropHintTemplateDirective;var v=n(14);t.DragClueTemplateDirective=v.DragClueTemplateDirective;var m=n(36);t.DropAction=m.DropAction;var g=n(37);t.DropPosition=g.DropPosition;var y=n(38);t.TreeItemDropEvent=y.TreeItemDropEvent;var _=n(39);t.TreeItemDragStartEvent=_.TreeItemDragStartEvent;var b=n(40);t.TreeItemDragEvent=b.TreeItemDragEvent;var x=n(29);t.LoadMoreDirective=x.LoadMoreDirective;var I=n(13);t.LoadMoreButtonTemplateDirective=I.LoadMoreButtonTemplateDirective},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),r=n(2),o=function(e){return e[e.length-1]},a=function(e){return e||{}},s=function(e){return a(e).children||[]},d=function(){function e(){this.ib=new i.IndexBuilderService,this.nodes=[]}return e.prototype.firstNode=function(){return this.nodes[0]||null},e.prototype.lastNode=function(){var e=this.nodes[this.nodes.length-1];return e?function(e){for(var t=e,n=[].concat(s(e));n.length;)t=(n=n.concat(s(o(n)))).shift();return t}(o(this.container(e)))||e:null},e.prototype.closestNode=function(e){var t=a(this.findNode(e)).prev||this.firstNode();return a(t).index===e?this.sibling(t,1):t},e.prototype.findNode=function(e){return this.find(e,this.nodes)},e.prototype.findParent=function(e){var t=this.ib.level(e)-1;return this.findNode(this.ib.indexForLevel(e,t))},e.prototype.findChild=function(e){return s(this.findNode(e))[0]||null},e.prototype.findPrev=function(e){var t=e.index,n=this.findParent(t);if(0===this.ib.lastLevelIndex(t))return n;var i=this.findNode(t),r=this.sibling(i,-1);if(r)for(var a=this.container(r);a.length>0;)r=o(a),a=this.container(r);return r},e.prototype.findNext=function(e){var t=this.container(e);return 0===t.length?this.sibling(e,1):t[0]},e.prototype.registerItem=function(e,t,n,i){void 0===i&&(i=!1);var r=this.ib.level(t),o=this.findParent(t);if(o||1===r){var a={id:e,children:[],index:t,parent:o,disabled:n,loadMoreButton:i};this.insert(a,o)}},e.prototype.unregisterItem=function(e,t){var n=this.find(t,this.nodes);if(n&&n.id===e){var i=this.container(n.parent);i.splice(i.indexOf(n),1)}},e.prototype.childLevel=function(e){var t=e.filter((function(e){return r.isPresent(e)}));return t&&t.length?this.ib.level(t[0].index):1},e.prototype.container=function(e){return e?e.children:this.nodes},e.prototype.find=function(e,t){var n=this.childLevel(t),i=this.ib.indexForLevel(e,n),r=n===this.ib.level(e),o=t.find((function(e){return e&&e.index===i}));return o?r?o:this.find(e,o.children):null},e.prototype.insert=function(e,t){this.container(t).splice(this.ib.lastLevelIndex(e.index),0,e)},e.prototype.sibling=function(e,t){if(!e)return null;var n=this.findParent(e.index),i=this.container(n);return i[i.indexOf(e)+t]||this.sibling(n,t)||null},e}();t.NavigationModel=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(4),a=n(48),s=n(12),d=n(19),c=n(20),u=n(21),p=n(22),l=n(23),h=n(26),f=n(27),v=n(14),m=n(15),g=n(28),y=n(29),_=n(13),b=[o.TreeViewComponent,s.NodeTemplateDirective,d.CheckDirective,c.DisableDirective,u.ExpandDirective,p.SelectDirective,l.HierarchyBindingDirective,h.FlatDataBindingDirective,f.DragAndDropDirective,v.DragClueTemplateDirective,m.DropHintTemplateDirective,g.DragAndDropEditingDirective,y.LoadMoreDirective,_.LoadMoreButtonTemplateDirective],x=function(){function e(){}return e=i.__decorate([r.NgModule({exports:[b],imports:[a.SharedModule]})],e)}();t.TreeViewModule=x},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(4),a=n(49),s=n(31),d=n(12),c=n(19),u=n(20),p=n(21),l=n(22),h=n(23),f=n(52),v=n(26),m=n(55),g=n(56),y=n(57),_=n(27),b=n(14),x=n(15),I=n(42),S=n(44),D=n(28),k=n(29),w=n(13),C=[o.TreeViewComponent,a.TreeViewGroupComponent,m.TreeViewItemDirective,g.TreeViewItemContentDirective,d.NodeTemplateDirective,c.CheckDirective,u.DisableDirective,p.ExpandDirective,l.SelectDirective,h.HierarchyBindingDirective,f.LoadingIndicatorDirective,v.FlatDataBindingDirective,_.DragAndDropDirective,b.DragClueTemplateDirective,I.DragClueComponent,x.DropHintTemplateDirective,S.DropHintComponent,D.DragAndDropEditingDirective,k.LoadMoreDirective,w.LoadMoreButtonTemplateDirective],P=function(){function e(){}return e=i.__decorate([r.NgModule({declarations:[C],exports:[C],imports:[s.CommonModule,y.CheckBoxModule],entryComponents:[I.DragClueComponent,S.DropHintComponent]})],e)}();t.SharedModule=P},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(50),a=n(8),s=n(9),d=n(10),c=n(18),u=n(11),p=n(35),l=n(2),h=n(16),f=n(3),v=n(6),m=n(33),g=function(){function e(e,t,n,i,r,o,a,s){this.expandService=e,this.loadingService=t,this.indexBuilder=n,this.treeViewLookupService=i,this.navigationService=r,this.nodeChildrenService=o,this.dataChangeNotification=a,this.changeDetectorRef=s,this.kGroupClass=!0,this.role="group",this.textField="",this.initialNodesLoaded=!1,this.loadingMoreNodes=!1,this._data=[],this.singleRecordSubscriptions=new f.Subscription,this.isChecked=function(){return"none"},this.isDisabled=function(){return!1},this.isExpanded=function(){return!1},this.isSelected=function(){return!1},this.children=function(){return f.of([])},this.hasChildren=function(){return!1}}return Object.defineProperty(e.prototype,"moreNodesAvailable",{get:function(){return!!l.isPresent(this.loadMoreService)&&this.pageSize<this.totalNodesCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageSize",{get:function(){return l.isPresent(this.loadMoreService)?this.loadMoreService.getGroupSize(this.parentDataItem):null},set:function(e){this.loadMoreService.setGroupSize(this.parentDataItem,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){if(l.isPresent(this.pageSize)){var e=this.pageSize>0?this.pageSize:0;return this._data.slice(0,e)}return this._data},set:function(e){this._data=e,this.registerLoadedNodes(this.data)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loadMoreButtonIndex",{get:function(){return this.loadMoreService?this.nodeIndex(this.data.length):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalNodesCount",{get:function(){return this.loadMoreService?this.loadMoreService.getTotalNodesCount(this.parentDataItem,this._data.length):this.data.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasTemplate",{get:function(){return l.isPresent(this.nodeTemplateRef)},enumerable:!0,configurable:!0}),e.prototype.expandNode=function(e,t,n){n?this.expandService.expand(e,t):this.expandService.collapse(e,t)},e.prototype.checkNode=function(e){this.navigationService.checkIndex(e),this.navigationService.activateIndex(e)},e.prototype.nodeIndex=function(e){return this.indexBuilder.nodeIndex(e.toString(),this.parentIndex)},e.prototype.nodeText=function(e){var t=l.isArray(this.textField)?this.textField[0]:this.textField;return a.getter(t)(e)},e.prototype.ngOnDestroy=function(){l.isPresent(this.nodesSubscription)&&this.nodesSubscription.unsubscribe(),l.isPresent(this.loadMoreNodesSubscription)&&this.loadMoreNodesSubscription.unsubscribe(),this.singleRecordSubscriptions.unsubscribe()},e.prototype.ngOnInit=function(){var e=this;this.subscribeToNodesChange(),this.singleRecordSubscriptions.add(this.dataChangeNotification.changes.subscribe(this.subscribeToNodesChange.bind(this))),this.singleRecordSubscriptions.add(this.navigationService.loadMore.pipe(v.filter((function(t){return t===e.loadMoreButtonIndex}))).subscribe(this.loadMoreNodes.bind(this)))},e.prototype.ngOnChanges=function(e){e.parentIndex&&this.setNodeChildren(this.mapToTreeItem(this.data))},e.prototype.fetchChildren=function(e,t){var n=this;return this.children(e).pipe(v.catchError((function(){return n.loadingService.notifyLoaded(t),f.EMPTY})),v.tap((function(){return n.loadingService.notifyLoaded(t)})))},Object.defineProperty(e.prototype,"nextFields",{get:function(){return l.isArray(this.textField)?this.textField.length>1?this.textField.slice(1):this.textField:[this.textField]},enumerable:!0,configurable:!0}),e.prototype.loadMoreNodes=function(){l.isPresent(this.loadMoreService.loadMoreNodes)?this.fetchMoreNodes():this.loadMoreLocalNodes()},e.prototype.loadMoreLocalNodes=function(){var e=this.loadMoreButtonIndex;this.pageSize+=this.loadMoreService.getInitialPageSize(this.parentDataItem),this.registerLoadedNodes(this.data),this.changeDetectorRef.detectChanges(),this.reselectItemAt(e)},e.prototype.fetchMoreNodes=function(){var e=this;this.loadingMoreNodes||(this.loadingMoreNodes=!0,l.isPresent(this.loadMoreNodesSubscription)&&this.loadMoreNodesSubscription.unsubscribe(),this.loadMoreNodesSubscription=this.loadMoreService.loadMoreNodes({dataItem:this.parentDataItem,skip:this.data.length,take:this.loadMoreService.getInitialPageSize(this.parentDataItem)}).pipe(v.finalize((function(){return e.loadingMoreNodes=!1}))).subscribe((function(t){if(Array.isArray(t)&&t.length>0){var n=e.loadMoreButtonIndex;e.pageSize+=t.length,e.data=e.data.concat(t),e.navigationService.isActive(n)&&(e.changeDetectorRef.detectChanges(),e.reselectItemAt(n))}})))},e.prototype.setNodeChildren=function(e){this.treeViewLookupService.registerChildren(this.parentIndex,e)},e.prototype.mapToTreeItem=function(e){var t=this;return this.parentIndex?e.map((function(e,n){return{dataItem:e,index:t.nodeIndex(n)}})):[]},e.prototype.emitChildrenLoaded=function(e){if(this.parentIndex){var t=e.filter((function(e){return e.dataItem}));this.nodeChildrenService.childrenLoaded({dataItem:this.parentDataItem,index:this.parentIndex},t)}},e.prototype.subscribeToNodesChange=function(){var e=this;this.nodesSubscription&&this.nodesSubscription.unsubscribe(),this.nodesSubscription=this.nodes(this.parentDataItem,this.parentIndex).subscribe((function(t){e.data=t,e.initialNodesLoaded=!0}))},e.prototype.reselectItemAt=function(e){l.isPresent(e)&&(this.navigationService.deactivate(),this.navigationService.activateIndex(e))},e.prototype.registerLoadedNodes=function(e){void 0===e&&(e=[]);var t=this.mapToTreeItem(e);this.setNodeChildren(t),this.emitChildrenLoaded(t)},i.__decorate([r.HostBinding("class.k-group"),i.__metadata("design:type",Boolean)],e.prototype,"kGroupClass",void 0),i.__decorate([r.HostBinding("attr.role"),i.__metadata("design:type",String)],e.prototype,"role",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Boolean)],e.prototype,"checkboxes",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Boolean)],e.prototype,"expandIcons",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Boolean)],e.prototype,"selectable",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Boolean)],e.prototype,"touchActions",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Function)],e.prototype,"trackBy",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Function)],e.prototype,"nodes",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Object)],e.prototype,"textField",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Object)],e.prototype,"parentDataItem",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],e.prototype,"parentIndex",void 0),i.__decorate([r.Input(),i.__metadata("design:type",r.TemplateRef)],e.prototype,"nodeTemplateRef",void 0),i.__decorate([r.Input(),i.__metadata("design:type",r.TemplateRef)],e.prototype,"loadMoreButtonTemplateRef",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Object)],e.prototype,"loadMoreService",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Function)],e.prototype,"isChecked",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Function)],e.prototype,"isDisabled",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Function)],e.prototype,"isExpanded",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Function)],e.prototype,"isSelected",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Function)],e.prototype,"children",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Function)],e.prototype,"hasChildren",void 0),e=i.__decorate([r.Component({animations:[o.trigger("toggle",[o.transition("void => *",[o.style({height:0}),o.animate("0.1s ease-in",o.style({height:"*"}))]),o.transition("* => void",[o.style({height:"*"}),o.animate("0.1s ease-in",o.style({height:0}))])])],selector:"[kendoTreeViewGroup]",template:'\n        <li\n            *ngFor="let node of data; let index = index; trackBy: trackBy"\n            class="k-item k-treeview-item"\n            kendoTreeViewItem\n            [attr.aria-setsize]="totalNodesCount"\n            [dataItem]="node"\n            [index]="nodeIndex(index)"\n            [parentDataItem]="parentDataItem"\n            [parentIndex]="parentIndex"\n            [checkable]="checkboxes"\n            [isChecked]="isChecked(node, nodeIndex(index))"\n            [isDisabled]="disabled || isDisabled(node, nodeIndex(index))"\n            [expandable]="expandIcons && hasChildren(node)"\n            [isExpanded]="isExpanded(node, nodeIndex(index))"\n            [selectable]="selectable"\n            [isSelected]="isSelected(node, nodeIndex(index))"\n            [attr.data-treeindex]="nodeIndex(index)"\n        >\n            <div class="k-mid">\n                <span\n                    class="k-icon"\n                    [class.k-i-collapse]="isExpanded(node, nodeIndex(index))"\n                    [class.k-i-expand]="!isExpanded(node, nodeIndex(index))"\n                    [kendoTreeViewLoading]="nodeIndex(index)"\n                    (click)="expandNode(nodeIndex(index), node, !isExpanded(node, nodeIndex(index)))"\n                    *ngIf="expandIcons && hasChildren(node)"\n                >\n                </span>\n                <kendo-checkbox\n                    *ngIf="checkboxes"\n                    [node]="node"\n                    [index]="nodeIndex(index)"\n                    [isChecked]="isChecked"\n                    (checkStateChange)="checkNode(nodeIndex(index))"\n                    tabindex="-1"\n                ></kendo-checkbox>\n                <span kendoTreeViewItemContent\n                    [attr.data-treeindex]="nodeIndex(index)"\n                    [dataItem]="node"\n                    [index]="nodeIndex(index)"\n                    [initialSelection]="isSelected(node, nodeIndex(index))"\n                    [isSelected]="isSelected"\n                    class="k-in"\n                    [style.touch-action]="touchActions ? \'\' : \'none\'"\n                >\n                    <ng-container [ngSwitch]="hasTemplate">\n                        <ng-container *ngSwitchCase="true">\n                            <ng-template\n                                [ngTemplateOutlet]="nodeTemplateRef"\n                                [ngTemplateOutletContext]="{\n                                    $implicit: node,\n                                    index: nodeIndex(index)\n                                }"\n                            >\n                            </ng-template>\n                        </ng-container>\n                        <ng-container *ngSwitchDefault>\n                            {{nodeText(node)}}\n                        </ng-container>\n                    </ng-container>\n                </span>\n            </div>\n            <ul\n                *ngIf="isExpanded(node, nodeIndex(index)) && hasChildren(node)"\n                kendoTreeViewGroup\n                role="group"\n                [nodes]="fetchChildren"\n                [checkboxes]="checkboxes"\n                [expandIcons]="expandIcons"\n                [selectable]="selectable"\n                [touchActions]="touchActions"\n                [children]="children"\n                [hasChildren]="hasChildren"\n                [isChecked]="isChecked"\n                [isDisabled]="isDisabled"\n                [disabled]="disabled || isDisabled(node, nodeIndex(index))"\n                [isExpanded]="isExpanded"\n                [isSelected]="isSelected"\n                [nodeTemplateRef]="nodeTemplateRef"\n                [loadMoreButtonTemplateRef]="loadMoreButtonTemplateRef"\n                [parentIndex]="nodeIndex(index)"\n                [parentDataItem]="node"\n                [textField]="nextFields"\n                [loadMoreService]="loadMoreService"\n                [@toggle]="true"\n                [trackBy]="trackBy"\n            >\n            </ul>\n        </li>\n        <li\n            *ngIf="initialNodesLoaded && moreNodesAvailable"\n            class="k-item k-treeview-item"\n            [class.k-treeview-load-more-checkboxes-container]="checkboxes"\n            kendoTreeViewItem\n            [role]="\'button\'"\n            [selectable]="false"\n            [checkable]="false"\n            [expandable]="false"\n            [index]="loadMoreButtonIndex"\n            [parentDataItem]="parentDataItem"\n            [parentIndex]="parentIndex"\n            [attr.data-treeindex]="loadMoreButtonIndex"\n        >\n            <div class="k-mid">\n                <span\n                    *ngIf="loadingMoreNodes"\n                    class="k-icon k-i-loading k-i-expand"\n                >\n                </span>\n                <span\n                    class="k-in k-treeview-load-more-button"\n                    [attr.data-treeindex]="loadMoreButtonIndex"\n                    kendoTreeViewItemContent\n                    [index]="loadMoreButtonIndex"\n                >\n                    <ng-template\n                        *ngIf="loadMoreButtonTemplateRef"\n                        [ngTemplateOutlet]="loadMoreButtonTemplateRef"\n                        [ngTemplateOutletContext]="{\n                            index: loadMoreButtonIndex\n                        }"\n                    >\n                    </ng-template>\n                    <ng-container *ngIf="!loadMoreButtonTemplateRef">\n                        Load more\n                    </ng-container>\n                </span>\n            </div>\n        </li>\n    '}),i.__metadata("design:paramtypes",[s.ExpandStateService,h.LoadingNotificationService,d.IndexBuilderService,c.TreeViewLookupService,u.NavigationService,p.NodeChildrenService,m.DataChangeNotificationService,r.ChangeDetectorRef])],e)}();t.TreeViewGroupComponent=g},function(e,t){e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),r=n(7),o=n(25),a=n(41),s=n(2),d=function(){function e(e){this.hierarchyBinding=e}return e.prototype.add=function(e){var t=e.sourceItem,n=e.destinationItem,d=e.dropPosition,c=e.destinationTree,u=Object.assign({},s.getDataItem(t));if(d===r.DropPosition.Over){o.expandDropTarget(n,c);var p=this.childrenFor(s.getDataItem(n)),l=s.isPresent(c.loadMoreService)?c.loadMoreService.getGroupSize(s.getDataItem(n)):p.length;p.splice(l,0,u),i.setter(this.hierarchyBinding.childrenField)(s.getDataItem(n),p)}else{var h=this.getParentNodes(n,c),f=d===r.DropPosition.After?1:0;l=h.indexOf(s.getDataItem(n))+f;h.splice(l,0,u)}var v=d===r.DropPosition.Over?s.getDataItem(n):s.getDataItem(n.parent);a.incrementPageSize(c,v),a.copyPageSize(c,s.getDataItem(t),u)},e.prototype.remove=function(e){var t=e.sourceItem,n=e.sourceTree,i=this.getParentNodes(t,n),r=i.indexOf(s.getDataItem(t));i.splice(r,1),o.collapseEmptyParent(t.parent,i,n),a.decrementPageSize(n,s.getDataItem(t.parent))},e.prototype.getParentNodes=function(e,t){return s.isPresent(e.parent)?this.childrenFor(s.getDataItem(e.parent)):t.nodes},e.prototype.childrenFor=function(e){return i.getter(this.hierarchyBinding.childrenField)(e)||[]},e}();t.HierarchyEditingService=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(9),a=n(16),s=n(3),d=n(6),c=function(){function e(e,t,n){this.expandService=e,this.loadingService=t,this.cd=n,this._loading=!1}return Object.defineProperty(e.prototype,"loading",{get:function(){return this._loading},set:function(e){this._loading=e,this.cd.markForCheck()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this,t=this.loadingService.changes.pipe(d.filter((function(t){return t===e.index})));this.subscription=this.expandService.changes.pipe(d.filter((function(t){return t.index===e.index})),d.tap((function(t){!t.expand&&e.loading&&(e.loading=!1)})),d.filter((function(e){return e.expand})),d.switchMap((function(e){return s.of(e).pipe(d.delay(100),d.takeUntil(t))}))).subscribe((function(){return e.loading=!0})),this.subscription.add(t.subscribe((function(){return e.loading=!1})))},e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},i.__decorate([r.HostBinding("class.k-i-loading"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[Boolean])],e.prototype,"loading",null),i.__decorate([r.Input("kendoTreeViewLoading"),i.__metadata("design:type",String)],e.prototype,"index",void 0),e=i.__decorate([r.Directive({selector:"[kendoTreeViewLoading]"}),i.__metadata("design:paramtypes",[o.ExpandStateService,a.LoadingNotificationService,r.ChangeDetectorRef])],e)}();t.LoadingIndicatorDirective=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduceRight((function(e,t){return t(e)}),t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),r=n(6),o=n(7),a=n(25),s=n(41),d=n(2),c=function(){function e(e){this.flatBinding=e}return e.prototype.add=function(e){var t=e.sourceItem,n=e.destinationItem,r=e.dropPosition,c=e.sourceTree,u=e.destinationTree,p=Object.assign({},d.getDataItem(t));if(r===o.DropPosition.Over){a.expandDropTarget(n,u);var l=i.getter(this.flatBinding.idField)(d.getDataItem(n));i.setter(this.flatBinding.parentIdField)(p,l);var h=this.getLastVisibleChildNodeIndex(u,this.flatBinding.originalData,d.getDataItem(n))+1;this.flatBinding.originalData.splice(h,0,p)}else{var f=r===o.DropPosition.After?1:0;h=this.flatBinding.originalData.indexOf(d.getDataItem(n))+f;this.flatBinding.originalData.splice(h,0,p);var v=i.getter(this.flatBinding.parentIdField)(d.getDataItem(n));i.setter(this.flatBinding.parentIdField)(p,v)}c!==u&&this.addChildNodes(p,c),this.rebindData();var m=r===o.DropPosition.Over?d.getDataItem(n):d.getDataItem(n.parent);s.incrementPageSize(u,m),s.copyPageSize(u,d.getDataItem(t),p)},e.prototype.remove=function(e){var t=e.sourceItem,n=e.sourceTree,i=e.destinationTree,r=d.getDataItem(t),o=this.flatBinding.originalData.indexOf(r);this.flatBinding.originalData.splice(o,1),n!==i&&this.removeChildNodes(r,n),this.rebindData();var c=t.parent?t.parent.children:[];a.collapseEmptyParent(t.parent,c,n),s.decrementPageSize(n,d.getDataItem(t.parent))},e.prototype.addChildNodes=function(e,t){var n,i=this.fetchAllDescendantNodes(e,t);(n=this.flatBinding.originalData).push.apply(n,i)},e.prototype.removeChildNodes=function(e,t){var n=this;this.fetchAllDescendantNodes(e,t).forEach((function(e){var t=n.flatBinding.originalData.indexOf(e);n.flatBinding.originalData.splice(t,1)}))},e.prototype.fetchAllDescendantNodes=function(e,t){var n=this,i=this.fetchChildNodes(e,t);return i.forEach((function(e){return i=i.concat(n.fetchAllDescendantNodes(e,t)||[])})),i},e.prototype.fetchChildNodes=function(e,t){if(!e)return[];var n=[];return t.children(e).pipe(r.take(1)).subscribe((function(e){return n=n.concat(e||[])})),n},e.prototype.getLastVisibleChildNodeIndex=function(e,t,n){if(!d.isPresent(e.loadMoreService)||!e.hasChildren(n))return t.length;var i=e.loadMoreService.getGroupSize(n),r=this.fetchChildNodes(n,e).slice(0,i),o=r[r.length-1];return t.indexOf(o)},e.prototype.rebindData=function(){this.flatBinding.nodes=this.flatBinding.originalData},e}();t.FlatEditingService=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(5),a=n(11),s=n(17),d=n(9),c=n(10),u=n(18),p=n(2),l=n(6),h=function(e,t){return{dataItem:t,index:e}},f=0,v=function(){function e(e,t,n,i,r,o,a){this.element=e,this.expandService=t,this.navigationService=n,this.selectionService=i,this.lookupService=r,this.renderer=o,this.ib=a,this.role="treeitem",this.isDisabled=!1,this.ariaChecked="false",this.id=f++,this.isInitialized=!1,this.subscriptions=[],this.subscribe()}return Object.defineProperty(e.prototype,"isChecked",{set:function(e){this.ariaChecked="checked"===e?"true":"indeterminate"===e?"mixed":"false"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isExpanded",{get:function(){return this._isExpanded||!1},set:function(e){this._isExpanded=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){return this._isSelected||!1},set:function(e){this._isSelected=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isButton",{get:function(){return"button"===this.role},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"treeItem",{get:function(){return h(this.index,this.dataItem)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentTreeItem",{get:function(){return this.parentDataItem?h(this.parentIndex,this.parentDataItem):null},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.lookupService.registerItem(this.treeItem,this.parentTreeItem),this.registerNavigationItem(),this.isInitialized=!0,this.setAttribute("role",this.role),this.setAriaAttributes(),this.setDisabledClass(),this.updateTabIndex()},e.prototype.ngOnChanges=function(e){var t=e.index,n=e.isDisabled;o.anyChanged(["index","checkable","isChecked","expandable","isExpanded","selectable","isSelected"],e)&&this.setAriaAttributes(),n&&this.setDisabledClass(),this.moveLookupItem(e),this.moveNavigationItem(t),this.disableNavigationItem(n)},e.prototype.ngOnDestroy=function(){this.navigationService.unregisterItem(this.id,this.index),this.lookupService.unregisterItem(this.index,this.dataItem),this.subscriptions=this.subscriptions.reduce((function(e,t){return t.unsubscribe(),e}),[])},e.prototype.subscribe=function(){var e=this;this.subscriptions=[this.navigationService.moves.subscribe((function(){e.updateTabIndex(),e.focusItem()})),this.navigationService.expands.pipe(l.filter((function(t){return t.index===e.index&&!e.isDisabled}))).subscribe((function(t){var n=t.expand;return e.expand(n)}))]},e.prototype.registerNavigationItem=function(){this.navigationService.registerItem(this.id,this.index,this.isDisabled,this.isButton),this.activateItem()},e.prototype.activateItem=function(){if(!this.isDisabled){var e=this.navigationService,t=this.selectionService,n=this.index;t.setFirstSelected(n,this.isSelected),!e.isActive(n)&&t.isFirstSelected(n)&&e.activateIndex(n)}},e.prototype.expand=function(e){this.expandService[e?"expand":"collapse"](this.index,this.dataItem)},e.prototype.isFocusable=function(){return!this.isDisabled&&this.navigationService.isFocusable(this.index)},e.prototype.focusItem=function(){this.isInitialized&&this.navigationService.isActive(this.index)&&this.element.nativeElement.focus()},e.prototype.moveLookupItem=function(e){void 0===e&&(e={});var t=e.dataItem,n=e.index,i=e.parentDataItem,r=e.parentIndex;if((!n||!n.firstChange)&&(t||n||i||r)){var o=(n||{}).previousValue||this.index;this.lookupService.replaceItem(o,this.treeItem,this.parentTreeItem)}},e.prototype.moveNavigationItem=function(e){void 0===e&&(e={});var t=e.currentValue,n=e.firstChange,i=e.previousValue;!n&&p.isPresent(t)&&p.isPresent(i)&&(this.navigationService.unregisterItem(this.id,i),this.navigationService.registerItem(this.id,t,this.isDisabled,this.isButton))},e.prototype.disableNavigationItem=function(e){if(e&&!e.firstChange){var t=this.navigationService;this.isDisabled?t.activateClosest(this.index):t.activateFocusable(),t.unregisterItem(this.id,this.index),t.registerItem(this.id,this.index,this.isDisabled,this.isButton)}},e.prototype.setAriaAttributes=function(){this.setAttribute("aria-level",this.ib.level(this.index).toString()),this.setAttribute("aria-expanded",this.expandable?this.isExpanded.toString():null),this.setAttribute("aria-selected",this.selectable?this.isSelected.toString():null),this.setAttribute("aria-checked",this.checkable?this.ariaChecked:null)},e.prototype.setDisabledClass=function(){this.setClass("k-state-disabled",this.isDisabled)},e.prototype.setClass=function(e,t){var n=t?"addClass":"removeClass";this.renderer[n](this.element.nativeElement,e)},e.prototype.updateTabIndex=function(){this.setAttribute("tabIndex",this.isFocusable()?"0":"-1")},e.prototype.setAttribute=function(e,t){p.isPresent(t)?this.renderer.setAttribute(this.element.nativeElement,e,t):this.renderer.removeAttribute(this.element.nativeElement,e)},i.__decorate([r.Input(),i.__metadata("design:type",Object)],e.prototype,"dataItem",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],e.prototype,"index",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Object)],e.prototype,"parentDataItem",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],e.prototype,"parentIndex",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],e.prototype,"role",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Boolean)],e.prototype,"checkable",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Boolean)],e.prototype,"selectable",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Boolean)],e.prototype,"expandable",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[String])],e.prototype,"isChecked",null),i.__decorate([r.Input(),i.__metadata("design:type",Boolean)],e.prototype,"isDisabled",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[Boolean])],e.prototype,"isExpanded",null),i.__decorate([r.Input(),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[Boolean])],e.prototype,"isSelected",null),e=i.__decorate([r.Directive({selector:"[kendoTreeViewItem]"}),i.__metadata("design:paramtypes",[r.ElementRef,d.ExpandStateService,a.NavigationService,s.SelectionService,u.TreeViewLookupService,r.Renderer2,c.IndexBuilderService])],e)}();t.TreeViewItemDirective=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(11),a=n(17),s=n(34),d=n(3),c=n(6),u=function(){function e(e,t,n,i){var r=this;this.element=e,this.navigationService=t,this.selectionService=n,this.renderer=i,this.initialSelection=!1,this.isSelected=s.isSelected,this.subscriptions=new d.Subscription,this.subscriptions.add(this.navigationService.moves.subscribe(this.updateItem.bind(this))),this.subscriptions.add(this.navigationService.selects.pipe(c.filter((function(e){return e===r.index}))).subscribe((function(e){return r.selectionService.select(e,r.dataItem)}))),this.subscriptions.add(this.selectionService.changes.subscribe((function(){r.updateSelection(r.isSelected(r.dataItem,r.index))})))}return e.prototype.ngOnChanges=function(e){e.initialSelection&&this.updateSelection(this.initialSelection)},e.prototype.ngOnInit=function(){this.updateSelection(this.initialSelection)},e.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe()},e.prototype.updateItem=function(){this.render(this.navigationService.isActive(this.index),"k-state-focused")},e.prototype.updateSelection=function(e){this.render(e,"k-state-selected")},e.prototype.render=function(e,t){var n=e?"addClass":"removeClass";this.renderer[n](this.element.nativeElement,t)},i.__decorate([r.Input(),i.__metadata("design:type",Object)],e.prototype,"dataItem",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],e.prototype,"index",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Boolean)],e.prototype,"initialSelection",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Function)],e.prototype,"isSelected",void 0),e=i.__decorate([r.Directive({selector:"[kendoTreeViewItemContent]"}),i.__metadata("design:paramtypes",[r.ElementRef,o.NavigationService,a.SelectionService,r.Renderer2])],e)}();t.TreeViewItemContentDirective=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=[n(58).CheckBoxComponent],a=function(){function e(){}return e=i.__decorate([r.NgModule({declarations:[o],exports:[o]})],e)}();t.CheckBoxModule=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(5),a=function(){function e(e,t,n){this.element=e,this.renderer=t,this.changeDetector=n,this.id="_"+o.guid(),this.tabindex=0,this.checkStateChange=new r.EventEmitter,this.checkState="none"}return Object.defineProperty(e.prototype,"classWrapper",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"indeterminate",{get:function(){return"indeterminate"===this.checkState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checked",{get:function(){return"checked"===this.checkState},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.renderer.removeAttribute(this.element.nativeElement,"tabindex")},e.prototype.ngDoCheck=function(){this.checkState=this.isChecked(this.node,this.index)},e.prototype.handleChange=function(e){var t=e.target.checked?"checked":"none";this.checkState=t,this.changeDetector.detectChanges(),this.checkStateChange.emit(t)},i.__decorate([r.HostBinding("class.k-checkbox-wrapper"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],e.prototype,"classWrapper",null),i.__decorate([r.Input(),i.__metadata("design:type",String)],e.prototype,"id",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Object)],e.prototype,"isChecked",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Object)],e.prototype,"node",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],e.prototype,"index",void 0),i.__decorate([r.Input(),i.__metadata("design:type",String)],e.prototype,"labelText",void 0),i.__decorate([r.Input(),i.__metadata("design:type",Number)],e.prototype,"tabindex",void 0),i.__decorate([r.Output(),i.__metadata("design:type",r.EventEmitter)],e.prototype,"checkStateChange",void 0),e=i.__decorate([r.Component({selector:"kendo-checkbox",template:'\n        <input\n            class="k-checkbox"\n            type="checkbox"\n            [id]="id"\n            [checked]="checked"\n            [indeterminate]="indeterminate"\n            [tabindex]="tabindex"\n            (change)="handleChange($event)"\n        />\n        <label\n            class="k-checkbox-label"\n            tabindex="-1"\n            [for]="id"\n        >{{labelText}}</label>\n    '}),i.__metadata("design:paramtypes",[r.ElementRef,r.Renderer2,r.ChangeDetectorRef])],e)}();t.CheckBoxComponent=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(42),a=n(2),s=n(43);t.CLUE_OFFSET=10,t.RETURN_ANIMATION_DURATION=200;var d=function(e){function n(t){var n=e.call(this)||this;return n.componentFactoryResolver=t,n}return i.__extends(n,e),n.prototype.initialize=function(e,t){a.isPresent(this._componentRef)&&this.ngOnDestroy();var n=this.componentFactoryResolver.resolveComponentFactory(o.DragClueComponent);this.componentRef=e.createComponent(n),this.hide(),this.componentRef.instance.template=t,this.componentRef.changeDetectorRef.detectChanges()},n.prototype.ngOnDestroy=function(){this.cancelReturnAnimation(),e.prototype.ngOnDestroy.call(this)},n.prototype.move=function(n,i){e.prototype.move.call(this,n,i,t.CLUE_OFFSET)},n.prototype.animateDragClueToElementPosition=function(e){var n=this;if(a.isPresent(e)&&a.isPresent(this.element.animate)){var i=e.getBoundingClientRect(),r=this.element.getBoundingClientRect();this.returnAnimation=this.element.animate([{transform:"translate(0, 0)"},{transform:"translate("+(i.left-r.left)+"px, "+(i.top-r.top)+"px)"}],t.RETURN_ANIMATION_DURATION),this.returnAnimation.onfinish=function(){return n.hide()}}else this.hide()},n.prototype.cancelReturnAnimation=function(){a.isPresent(this.returnAnimation)&&(this.returnAnimation.cancel(),this.returnAnimation=null)},n.prototype.updateDragClueData=function(e,t,n){var i=this.componentRef.instance;e===i.action&&a.dataItemsEqual(t,i.sourceItem)&&a.dataItemsEqual(n,i.destinationItem)||(i.action=e,i.sourceItem=t,i.destinationItem=n,i.detectChanges())},n.prototype.updateText=function(e){e!==this.componentRef.instance.text&&(this.componentRef.instance.text=e,this.componentRef.instance.detectChanges())},n=i.__decorate([r.Injectable(),i.__metadata("design:paramtypes",[r.ComponentFactoryResolver])],n)}(s.DragAndDropAssetService);t.DragClueService=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),o=n(2),a=n(44),s=function(e){function t(t){var n=e.call(this)||this;return n.componentFactoryResolver=t,n}return i.__extends(t,e),t.prototype.initialize=function(e,t){o.isPresent(this._componentRef)&&this.ngOnDestroy();var n=this.componentFactoryResolver.resolveComponentFactory(a.DropHintComponent);this.componentRef=e.createComponent(n),this.hide(),this.componentRef.instance.template=t,this.componentRef.changeDetectorRef.detectChanges()},t=i.__decorate([r.Injectable(),i.__metadata("design:paramtypes",[r.ComponentFactoryResolver])],t)}(n(43).DragAndDropAssetService);t.DropHintService=s}])}));