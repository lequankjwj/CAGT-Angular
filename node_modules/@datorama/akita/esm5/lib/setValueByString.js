import * as tslib_1 from "tslib";
import { isObject } from './isObject';
/**
 * @internal
 *
 * @example
 * setValue(state, 'todos.ui', { filter: {} })
 */
export function setValue(obj, prop, val) {
    var split = prop.split('.');
    if (split.length === 1) {
        return tslib_1.__assign({}, obj, val);
    }
    obj = tslib_1.__assign({}, obj);
    var lastIndex = split.length - 2;
    var removeStoreName = prop.split('.').slice(1);
    removeStoreName.reduce(function (acc, part, index) {
        if (index !== lastIndex) {
            acc[part] = tslib_1.__assign({}, acc[part]);
            return acc && acc[part];
        }
        acc[part] = Array.isArray(acc[part]) || !isObject(acc[part]) ? val : tslib_1.__assign({}, acc[part], val);
        return acc && acc[part];
    }, obj);
    return obj;
}
//# sourceMappingURL=setValueByString.js.map